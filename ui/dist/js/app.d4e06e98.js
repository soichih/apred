(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/projects/apred/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"063d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACWCAIAAAB2EXwkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmBJREFUeNrs3T1OG0EAgFE7QqF1kcYcgBqJA3i3D2fAVWrfAI5ASyr7CAj3LA21EZ2rrZIGJCSqpCEToYjIkGCS2WF29b4SiWWGJ8/+aOXpH/f0xr3zL2AgBgzEgIEYMBADBmLAQAwYiAEDMWAgBgz0TBsZjun9YPBhZ6eJI18vFt9vbxm8XAD4eHbWxJHnZfmlqqxFYsBADBiIAQM9X78t711/ur9/7a987vd9DsSAgRgw0NpFeG66V1XD0SjusBq6pPmHi6u/9/X8/LQofA6sRWLAQAwYiIH7g19dTCabg8HvP9kej7f399c/wnI2W06nCWY7L8u44/wW402ZCAY3i8XKT4avvG25q+s0r5ys/JVMxmktcj4QAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBA61fFvuAbBVF7/Aw+mF3Xzrm1n9/FV13DIajUfRvJfxpcHBgLRIDBmLAQG9rkOFefDnPqxGDq6Oj5WzWMYAwozCvNq1F1XjcJYYwlzCj9p0POsPQKEDj5+QOMDQNkOK6qNUMCQASXZteTCY3l5etA6hPThIAJDIIl3SnRdEuhjDaNADp7tHaxRDGGUab7C4n3X1yWxgSA6R+VpE/Q3qAnv0yc8gzOwZiwEAMGIgBAzFgoMc28hzWboxXgJ8eZDmd3tV1bpPN9HlR9A2/H5qXZZrN8KxFzgdiwEAMGIgBAzFoaZk+q1jZ+D5W10+2nWfwxzJ8omAtYiAGDMSAgRgwEAMGYsBADBiIAQMxYCAGDJS2HwIMAK+RvsulC4ZHAAAAAElFTkSuQmCC"},"0d23":function(t,e,a){},"1a5b":function(t,e,a){"use strict";var i=a("a421"),n=a.n(i);n.a},"3dc0":function(t,e,a){},"4a46":function(t,e,a){},5191:function(t,e,a){"use strict";var i=a("4a46"),n=a.n(i);n.a},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),n=a.n(i);n.a},"5e09":function(t,e,a){},"64e5":function(t,e,a){"use strict";var i=a("8684"),n=a.n(i);n.a},"828a":function(t,e,a){"use strict";var i=a("5e09"),n=a.n(i);n.a},8684:function(t,e,a){},"92a8":function(t,e,a){},"943a":function(t,e,a){"use strict";var i=a("3dc0"),n=a.n(i);n.a},"9c0c":function(t,e,a){},"9df2":function(t,e,a){"use strict";var i=a("0d23"),n=a.n(i);n.a},a421:function(t,e,a){},a9d8:function(t,e,a){"use strict";var i=a("92a8"),n=a.n(i);n.a},ad47:function(t,e,a){"use strict";var i=a("d9e6"),n=a.n(i);n.a},b170:function(t,e,a){"use strict";var i=a("bd86"),n=a.n(i);n.a},b62f:function(t,e,a){"use strict";var i=a("d89b"),n=a.n(i);n.a},bd86:function(t,e,a){},be11:function(t,e,a){},be34:function(t,e,a){"use strict";var i=a("be11"),n=a.n(i);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("0fae"),a("b2d6")),s=a.n(n),r=a("5c96"),o=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],u=(a("4de4"),a("6612")),d=a.n(u),p=a("60a3");p["c"].filter("formatNumber",(function(t){return d()(t).format("0,0")}));var h={name:"App",mounted:function(){this.active=this.$route.meta.menu},watch:{$route:function(){this.$route.meta.menu&&(this.active=this.$route.meta.menu)}}},v=h,y=(a("5c0b"),a("2877")),f=Object(y["a"])(v,l,c,!1,null,null,null),m=f.exports,b=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("TopMenu"),t.fips?a("CountyDetail",{attrs:{fips:t.fips}}):t._e(),t.mountmap?a("CountyMap",{directives:[{name:"show",rawName:"v-show",value:t.showmap,expression:"showmap"}],on:{select:t.changeFips}}):t._e()],1)},_=[],w=(a("99af"),a("d81d"),a("e439"),a("d4ec")),j=a("bee2"),O=a("257e"),x=a("262e"),k=a("2caf"),C=a("ade3"),D=a("63ae"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"topmenu"}},[a("div",{staticClass:"page"},[t._m(0),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.login}},[t._v("Log In")]),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"primary"},on:{click:t.signup}},[t._v("Sign Up")]),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.signout}},[t._v("Sign Out")]):t._e(),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"success"},on:{click:t.settings}},[t._v("Settings")]):t._e(),t._m(1),a("p",{staticClass:"title"},[a("el-tag",{staticClass:"beta",attrs:{effect:"dark",type:"info",size:"mini"}},[a("b",[t._v("BETA")])]),t._m(2),a("span",{staticClass:"sub-title"},[t._v("Analysis Platform for Risk, Resilience and Expenditure in Disasters")])],1),a("p",{staticClass:"disclaimer"},[t._v("For testing purposes only. Not for public use or for supporting current EDA applications.")])],1)])},A=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"https://iu.edu"}},[i("img",{staticClass:"trident",attrs:{src:a("063d"),height:"50px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pull-right",staticStyle:{"font-weight":"bold",top:"15px"}},[a("a",{staticStyle:{color:"inherit"},attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://ctil.iu.edu/projects/apred-landing"}},[a("b",{staticStyle:{color:"#900"}},[t._v("APRED")])])}],E=a("9ab4"),I=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.call(this),t.app="prod","localhost"==document.location.hostname&&(t.app="dev"),t}return Object(j["a"])(a,[{key:"signup",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/signup?app="+this.app}},{key:"login",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/login?app="+this.app}},{key:"settings",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/settings/account?app="+this.app}},{key:"signout",value:function(){this.$root.signout()}}]),a}(p["c"]);I=Object(E["a"])([p["a"]],I);var L,T,P,$,B,R,M,N,z,Y,F,H=I,U=H,G=(a("9df2"),Object(y["a"])(U,S,A,!1,null,"39d34634",null)),V=G.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.detail?a("div",{ref:"scrolled-area",on:{scroll:t.handleScroll}},[a("div",{staticClass:"header"},[a("div",{staticClass:"page"},[a("div",{staticStyle:{float:"right",width:"300px","padding-top":"15px"}},[a("CountySelecter",{on:{select:function(e){t.fips=e}}})],1),a("h3",{staticStyle:{"font-weight":"normal","margin-right":"300px"}},[a("el-button",{staticClass:"back-button",attrs:{type:"primary",circle:"",icon:"el-icon-back"},on:{click:function(e){return t.goback()}}}),t._v(" "),a("span",{staticClass:"important"},[a("b",[t._v(t._s(t.detail.county))]),t._v(" county,")]),t._v(" "+t._s(t.detail.state)+" ")],1),a("br",{attrs:{clear:"both"}}),a("el-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{name:"info",label:"County Detail"}}),a("el-tab-pane",{attrs:{name:"disaster",label:"Disaster Declarations/EDA Awards ("+t.history.length+")"}}),t.detail.bvis2?a("el-tab-pane",{attrs:{name:"bvi",label:"Business Vulnerability"}}):t._e(),a("el-tab-pane",{attrs:{name:"resilience",label:"Disaster Resilience"}}),a("el-tab-pane",{attrs:{name:"storms",label:"Storm History"}})],1)],1)]),"info"==t.tab?a("div",{staticClass:"page"},[a("br"),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("h4",[t._v("Population "),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS)")])])]),t.detail.population?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.population)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")]),a("h4",[t._v("Population Density")]),t.detail.popdensity?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.popdensity))+" people per sq. mile")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")]),a("br"),a("br"),a("Plotly",{attrs:{data:t.demoGraphData,layout:t.demoGraphLayout,"display-mode-bar":!1}})],1),a("el-col",{attrs:{span:12}},[a("h4",[t._v("GDP "),a("small",[a("a",{attrs:{href:"https://www.bea.gov/",target:"bea"}},[t._v("(BEA)")])])]),a("p",[t.detail.gdp?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.gdp/1e3))+" M")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("h4",[t._v("Per Capita Income "),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS)")])])]),a("p",[t.detail.percapitaincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.percapitaincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("h4",[t._v("Median Household Income "),a("small",{attrs:{title:"US Census Bureau"}},[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS)")])])]),a("p",[t.detail.medianincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.medianincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])])])],1),a("div",{staticStyle:{"border-top":"1px solid #ddd",margin:"20px",padding:"20px"}},[a("el-link",{attrs:{type:"primary",target:"json."+t.fips,href:t.$root.dataUrl+"/counties/county."+t.fips+".json"}},[t._v("Download County Detail (.json)")])],1)],1):t._e(),"disaster"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(0),t._m(1),0==t.recentHistory.length?a("p",{staticStyle:{opacity:"0.8"}},[t._v("No disaster declared since 2017")]):t._e(),t._l(t.recentHistory,(function(e,i){return a("div",{key:i,staticClass:"history"},[a("Event",{attrs:{event:e}},[i<t.recentHistory.length?a("div",{staticClass:"connecter",staticStyle:{float:"right"}},[t.$root.user&&t.is2018Eligible(e)?a("Eligibility2018"):t._e(),t.$root.user&&(t.is2019Eligible(e)||t.is2019FloodEligible(e))?a("Eligibility2019"):t._e()],1):t._e()])],1)})),t.showPastHistory?t._e():a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showPastHistory=!t.showPastHistory}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Past Disasters ("+t._s(t.pastHistory.length)+") ")])],1),t.showPastHistory?a("div",t._l(t.pastHistory,(function(t,e){return a("Event",{key:e,staticClass:"history",attrs:{event:t}})})),1):t._e(),a("br"),a("br")],2):t._e(),"bvi"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(2),t._m(3),t._m(4),t._m(5),a("br",{attrs:{clear:"both"}}),a("br"),a("br"),t._l(t.bvi2,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("BVIPlot",{attrs:{data:e.est}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("BVIPlot",{attrs:{data:e.emp}})],1)],1)],1)})),!t.showNonvBVI&&Object.keys(t.bvi2_nonv).length>0?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showNonvBVI=!t.showNonvBVI}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Non-vulnerable Sectors ("+t._s(Object.keys(t.bvi2_nonv).length)+") ")])],1):t._e(),t.showNonvBVI?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),t._l(t.bvi2_nonv,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("BVIPlot",{attrs:{data:e.est}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("BVIPlot",{attrs:{data:e.emp}})],1)],1)],1)}))],2):t._e(),a("br",{attrs:{clear:"both"}})],2):t._e(),"resilience"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(6),t._l(t.detail.cutter2,(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"15px",clear:"both"}},[a("div",{staticClass:"indicator-header"},[a("b",{staticClass:"indicator-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"indicator-detail"},[a("IndicatorInfo",{attrs:{id:i}})],1)]),t._m(7,!0),a("br",{attrs:{clear:"both"}}),t._l(t.detail.cutter2[i].sources.filter((function(t){return t.stats})),(function(e){return a("div",{key:e.id,staticClass:"measure-info"},[a("p",{staticStyle:{margin:"0"}},[a("b",[t._v(t._s(e.name))])]),a("p",{staticStyle:{"min-height":"50px",margin:"0"}},[t._v(" "+t._s(t.$root.drMeasures[e.id].desc)+" ")]),t.detail?a("CompositePlot",{attrs:{cutters:e.stats,edaAwards:t.detail.eda2018}}):t._e(),a("br"),a("p",[a("el-button",{attrs:{size:"mini",round:""},on:{click:function(a){return t.toggleMeasureDetail(e)}}},[e.showDetail?a("span",[t._v("Hide")]):a("span",[t._v("Show")]),t._v(" Detail ")])],1),a("slide-up-down",{attrs:{active:e.showDetail}},[a("small",[t._v(" "+t._s(t.$root.drMeasures[e.id].calcDesc)+" ")])])],1)})),a("br",{attrs:{clear:"both"}})],2)}))],2):t._e(),"storms"==t.tab?a("div",{staticClass:"page"},[a("br"),t.stormData&&t.stormData.length>0?a("div",[a("p",[t._v("This graph shows the counts of storm event published by NOAA since 1950s.")]),t._m(8),a("p",[t._v("You can click on the chart legend to select or deselect which storm events to show on the graph.")]),a("Plotly",{attrs:{data:t.stormData,layout:t.stormLayout,"display-mode-bar":!1}})],1):a("p",[t._v("No storm data")]),a("br"),a("br"),a("br")]):t._e(),a("Footer")],1):t._e()},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Major Disaster Declarations declared under the Robert T. Stafford Disaster Relief and Emergency Assistance Act that may support eligibility for investment assistance from "),a("a",{attrs:{href:"https://www.eda.gov/"}},[t._v("EDA")]),t._v(" (the U.S. Economic Development Administration) under the agencyâ€™s Public Works and Economic Adjustment Assistance Programs. Through these programs, EDA provides investment assistance to communities and regions to devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects. Only the FEMA Disaster Declarations (not Emergency Declarations) are displayed. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" The resilience scores are calculated using information collected by the "),a("a",{attrs:{href:"https://data.census.gov/cedsci/"}},[t._v("U.S. Census")]),t._v(" using formulas defined by Cutters, et all. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Business Vulnerability Index (BVI)")]),t._v(" is a percentage of businesses in a county that are believed to be "),a("i",[t._v("vulnerable")]),t._v(" to various natural disasters. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" To calculate the BVI, we isolated businesses by NAICS code from the U.S. Census' most recent "),a("a",{attrs:{href:"https://www.census.gov/econ/overview/mu0800.html"}},[t._v("County Business Patterns")]),t._v(" based on their vulnerability to natural disaster (farmers, transportation companies, etc.). ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Businesses that were identified to be especially vulnerable to a disater are.. "),a("ul",[a("li",[t._v("dependent on supply chains")]),a("li",[t._v("have a high reliance on public utilities like water and electricity")]),a("li",[t._v("or have a large infrastructure footprint and low infrastructure mobility.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#999"}}),t._v(" Total "),a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#f00"}}),t._v(" Vulnerable ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Disaster resilience measures the capacity of a community to recover from disaster events without losing their socioeconomic and infrastructural viability "),a("a",{attrs:{href:"https://gsdrc.org/topic-guides/disaster-resilience/concepts/what-is-disaster-resilience/"}},[t._v("[Combaz, 2015]")]),a("a",{attrs:{href:"https://www.unisdr.org/2005/wcdr/intergover/official-doc/L-docs/Hyogo-framework-for-action-english.pdf"}},[t._v("[UNISDR, 2005]")]),t._v(" (the higher, the better). Using the framework provided by "),a("a",{attrs:{href:"http://resiliencesystem.com/sites/default/files/Cutter_jhsem.2010.7.1.1732.pdf"}},[t._v("[Cutter et al. 2010]")]),t._v(", this section merges the resilient and vulnerable variables of a city into a unified set of indices - to produce aggregated information on disaster resilience levels. Expand each measure to show more detail. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#409eff"}}),t._v(" This County "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#09f5"}}),t._v(" State Average(+standard deviation) "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#0003"}}),t._v(" US Average(+standard deviation) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Storm data has gone through many changes and versions over the years. The source data ingested into the database are widely varied and leads to many questions about the precision and accuracy of the location data. Please see "),a("a",{attrs:{href:"https://www.ncdc.noaa.gov/stormevents/details.jsp",target:"noaa"}},[t._v("https://www.ncdc.noaa.gov/stormevents/faq.jsp")]),t._v(" for more detail.")])}],J=(a("caad"),a("c975"),a("13d5"),a("a434"),a("b0c0"),a("b680"),a("2532"),a("5319"),a("6b7b")),q=(a("f890"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.eventClass},[a("div",{staticClass:"event-header"},[a("div",{staticClass:"event-icon"},["dr"==t.event.type?a("div",{style:t.eventIconStyle},[a("i",{staticClass:"el-icon-warning"})]):"eda2018"==t.event.type?a("div",{staticClass:"eda2018",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[a("i",{staticClass:"el-icon-money",staticStyle:{"background-color":"green","border-radius":"50%",color:"white"}})]):t._e()]),"dr"==t.event.type?a("h3",{style:t.eventIconStyle},[t.event.statewide?a("el-tag",{staticStyle:{position:"relative",top:"-2px"},attrs:{type:"info"}},[t._v("STATEWIDE")]):t._e(),t._v(" "),t.event.tribe?a("el-tag",{staticStyle:{position:"relative",top:"-2px"},attrs:{type:"info"}},[t._v(t._s(t.event.designatedArea))]):t._e(),t._v(" "),a("b",[t._v(t._s(t.event.incidentType))]),t._v(" "),a("br")],1):"eda2018"==t.event.type?a("h3",{staticClass:"eda2018",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[a("el-tag",{staticStyle:{float:"right"},attrs:{size:"small",effect:"dark",type:"success"}},[t._v("fain: "+t._s(t.event.fain))]),t.event.statewide?a("b",[t._v("Statewide")]):t._e(),t._v(" EDA 2018 Disaster Supplemental Award "),a("span",{staticStyle:{opacity:"0.5"}},[t._v(" | ")]),t._v(" $"+t._s(t._f("formatNumber")(t.event.award_amount))+" "),t.event.counties.length?a("el-tag",{attrs:{size:"small",type:"warning"}},[t._v("Multi-county("+t._s(t.event.counties.length)+") Award")]):t._e()],1):t._e()]),a("div",{staticClass:"event-body"},["dr"==t.event.type?a("div",[t._t("default"),a("div",{staticClass:"event-date"},[a("small",{staticStyle:{opacity:"0.6"}},[t._v("Incident date from ")]),t._v(" "),a("time",{attrs:{title:"Incident Begin Date"}},[t._v(t._s(new Date(t.event.incidentBeginDate).toLocaleDateString()))]),a("small",[t.event.incidentEndDate?a("time",{attrs:{title:"Incident End Date"}},[t._v(" to "+t._s(new Date(t.event.incidentEndDate).toLocaleDateString()))]):a("span",[t._v(" - ongoing")])])]),a("span",{staticStyle:{opacity:"0.9","font-style":"italic"}},[t._v(t._s(t.event.declarationTitle))]),t._v(" "),a("small",{staticStyle:{opacity:"0.6"}},[t._v(" declared on "+t._s(t.event.date.toLocaleDateString())+" ")]),a("h3",{style:t.eventIconStyle},[a("span",[t.event.hmProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"warning"}},[a("a",{attrs:{href:"https://www.fema.gov/grants/mitigation/hazard-mitigation",target:"fema"}},[t._v("Hazard Mitigation")])]):t._e(),t._v(" "),t.event.ihProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"danger"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual/program",target:"fema"}},[t._v("Individuals and Households")])]):t._e(),t._v(" "),t.event.iaProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",title:"Individual Assistance Program"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual",target:"fema"}},[t._v("Individual Assistance")])]):t._e(),t._v(" "),a("a",{attrs:{href:"https://www.fema.gov/disaster/"+t.event.disasterNumber,target:"fema"}},[a("el-tag",{attrs:{size:"mini",effect:"plain",type:"info"}},[t._v("Disaster # "+t._s(t.event.disasterNumber))])],1)],1)])],2):"eda2018"==t.event.type?a("div",[a("div",{staticClass:"event-date"},[a("small",{staticStyle:{opacity:"0.6"}},[t._v("grant awarded on ")]),t._v(" "),a("time",{attrs:{title:"Grant Award Date"}},[t._v(t._s(new Date(t.event.grant_award_date).toLocaleDateString()))])]),a("b",[t._v("To:")]),t._v(" "),t._v(t._s(t.event.grantee_name)+", "+t._s(t.event.grantee_city)+", "+t._s(t.event.grantee_state)),a("br"),a("br"),a("b",[t._v("For:")]),t._v(" "+t._s(t.event.grant_purpose)+" "),a("br"),a("br"),a("b",[t._v("Regional Office:")]),t._v(" "+t._s(t.event.eda_regional_office)+" "),t._t("default")],2):a("div",[t._v(" "+t._s(t.event)+" ")])])])}),Q=[],X=(a("498a"),a("3e84")),K=(L=Object(p["a"])({components:{SlideUpDown:X["a"]}}),T=Object(p["b"])({type:Object}),L((R=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(J["a"])(Object(O["a"])(t),"event",B,Object(O["a"])(t)),Object(C["a"])(Object(O["a"])(t),"show_pa",!1),t}return Object(j["a"])(a,[{key:"totalPA",value:function(t){return t.reduce((function(t,e){return t+e.projectAmount}),0)}},{key:"eventClass",get:function(){var t=[];return"dr"==this.event.type&&(this.event.statewide&&t.push("dr-state"),this.event.tribe?t.push("dr-tribe"):t.push("dr-county")),t}},{key:"eventDateTitle",get:function(){return"eda2018"==this.event.type?"Grant Award Date":"Incident Date"}},{key:"eventIconStyle",get:function(){var t=this.$root.layers["other"].color,e=this.event.incidentType.toLowerCase();return~e.indexOf("(")&&(e=e.substring(0,e.indexOf("("))),e=e.trim(),this.$root.layers[e]&&(t=this.$root.layers[e].color),{color:t}}}]),a}(p["c"]),$=R,B=Object(D["a"])($.prototype,"event",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=$))||P),tt=K,et=(a("ad47"),Object(y["a"])(tt,q,Q,!1,null,"07e2f7b5",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["SOC"==t.id?a("p",[t._v(" Social resilience deals with attributes of the individual members of communities. ")]):"ECON"==t.id?a("p",[t._v(" Economic resilience deals with the financial and economic factors that contribute to the resilience of communities. ")]):"INST"==t.id?a("p",[t._v(" TODO - describe this index ")]):"IHFR"==t.id?a("p",[t._v(" Infrastructure resilience deals with physical structures (housing, shelter, medical capacity, etc.) that exist within communities. ")]):"COMM"==t.id?a("p",[t._v(" Community Capital deals with the relationships between the individual and the community as a whole. ")]):"FLOR"==t.id?a("p",[t._v(" TODO - describe this index ")]):t._e()])},nt=[],st=(M=Object(p["b"])({default:null,type:String}),Object(p["a"])((F=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(J["a"])(Object(O["a"])(t),"id",Y,Object(O["a"])(t)),t}return a}(p["c"]),z=F,Y=Object(D["a"])(z.prototype,"id",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=z))||N),rt=st,ot=(a("be34"),Object(y["a"])(rt,it,nt,!1,null,"7cd5238a",null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"page"},[a("p",[t._v(" This platform brings data science to decision-makers dealing with the economics of disaster mitigation, analysis, and recovery activities. ")]),a("p",[a("i",[t._v("This publication was prepared by the CTIL and IBRC at Indiana University using federal funds awarded to the Trustees of Indiana University and as a sub-component under award number ED17HDQ3120040 from the U.S. Economic Development Administration, U.S. Department of Commerce. The statements, findings, conclusions, and recommendations are those of the author(s) and do not necessarily reflect the views of the Economic Development Administration or the U.S. Department of Commerce.")])]),a("div",{staticStyle:{float:"right"}},[a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("ctil@iu.edu")]),t._v(" | "),a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("Contact Us")])]),a("h3",[a("a",{attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")]),t._v(" "),a("small",[t._v("Crisis Technologies Innovation Lab")])])]),a("br"),a("br")])}],dt=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){return Object(w["a"])(this,a),e.apply(this,arguments)}return a}(p["c"]);dt=Object(E["a"])([p["a"]],dt);var pt=dt,ht=pt,vt=(a("a9d8"),Object(y["a"])(ht,ct,ut,!1,null,"5a98ce7e",null)),yt=vt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i),"text-anchor":"middle",y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s((100*e).toFixed(t.fixed))+" %")])}))],2),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.us.avg,t.cutters.us.sdev,t.lineCommand),fill:"#0002",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.us.avg,t.lineCommand),fill:"none",stroke:"#0005","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.states.avg,t.cutters.states.sdev,t.lineCommand),fill:"#09f4",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.states.avg,t.lineCommand),fill:"none",stroke:"#09f8","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.svgPath(t.cutters.county,t.lineCommand),fill:"none",stroke:"#409EFF","stroke-width":"3"}}),t._l(t.cutters.county,(function(e,i){return a("g",{key:i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"10",stroke:"#409EFF","stroke-width":"4",fill:"white"}}),a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-30,"text-anchor":"middle"}},[t._v(t._s((100*e).toFixed(t.fixed+1))+"%")])])}))],2)])])},mt=[],bt=(a("c7cd"),a("99de")),gt=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a),t=e.call(this),t.height=300,t.ymax=null,t.ymin=null,t.fixed=0,t.years=[],t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))};for(var i=2012;i<=2018;++i)t.years.push(i);var n=function(e,a){e.forEach((function(e,i){if(null!=e){var n=e,s=e;a&&(n-=a[i],s+=a[i]),(null===t.ymin||t.ymin>n)&&(t.ymin=n),(null===t.ymax||t.ymax<s)&&(t.ymax=s)}}))};if(n(t.cutters.county),n(t.cutters.states.avg,t.cutters.states.sdev),n(t.cutters.us.avg,t.cutters.us.sdev),null==t.ymin)return Object(bt["a"])(t);if(null==t.ymax)return Object(bt["a"])(t);var s=t.ymax-t.ymin;return t.ymax+=s/5,t.ymin-=s/5,t}return Object(j["a"])(a,[{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-30-(this.height-40)*e}}},{key:"itox",value:function(t){return 800/(this.years.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),n=i-a,s=850/n*(e.getTime()-a)+100;return s}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"sdevPath",value:function(t,e,a){for(var i="",n=0;n<t.length;++n)i+=0==n?"M "+this.itox(n)+","+this.ptoy(t[n]+e[n]):a(t[n]+e[n],n);for(var s=t.length-1;s>=0;--s)i+=a(t[s]-e[s],s);return i}},{key:"svgPath",value:function(t,e){var a=this,i=t.reduce((function(t,i,n){return 0===n?"M ".concat(a.itox(n),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,n))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];var t=[],e=this.ymax-this.ymin,a=e/4;e<.025&&(this.fixed=2);for(var i=Math.round(this.ymin/a)*a,n=this.ymax,s=i;s<=n;s+=a){var r=this.ptoy(s);void 0!==r&&r>this.height-30||t.push(s)}return t}}]),a}(p["c"]);Object(E["a"])([Object(p["b"])()],gt.prototype,"edaAwards",void 0),Object(E["a"])([Object(p["b"])()],gt.prototype,"cutters",void 0),gt=Object(E["a"])([p["a"]],gt);var _t=gt,wt=_t,jt=(a("828a"),Object(y["a"])(wt,ft,mt,!1,null,"40434ea6",null)),Ot=jt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.data.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.data.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i)-25,y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s(t._f("formatNumber")(e)))])}))],2),a("g",[a("path",{attrs:{d:t.fillPath(t.data.total,t.lineCommand),fill:"rgba(0, 0, 0, 0.2)",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.total,t.lineCommand),fill:"none",stroke:"#666","stroke-width":"3"}}),t.data.vul?a("g",[a("path",{attrs:{d:t.fillPath(t.data.vul,t.lineCommand),fill:"#f403",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.vul,t.lineCommand),fill:"none",stroke:"#c00","stroke-width":"3"}}),t._l(t.data.vul,(function(e,i){return a("g",{key:"v-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#900","stroke-width":"4",fill:"white"}})])}))],2):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"t-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#666","stroke-width":"4",fill:"white"}})])})),t.data.vul?a("g",t._l(t.data.vul,(function(e,i){return a("g",{key:"vt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)+35,"text-anchor":"middle",fill:"#900"}},[t._v(t._s(t._f("formatNumber")(e)))])])})),0):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"tt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-20,"text-anchor":"middle",fill:"#666"}},[t._v(t._s(t._f("formatNumber")(e)))])])}))],2)])])},kt=[],Ct=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.apply(this,arguments),t.height=200,t.ymax=null,t.ymin=null,t.fixed=0,t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))},t}return Object(j["a"])(a,[{key:"mounted",value:function(){this.ymax=this.data.total.reduce((function(t,e){return Math.max(t,e)})),this.ymax&&this.ymax>100&&(this.ymax=100*Math.floor(this.ymax/100)+100),this.ymin=0}},{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-40-(this.height-50)*e}}},{key:"itox",value:function(t){return 800/(this.data.total.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),n=i-a,s=850/n*(e.getTime()-a)+100;return s}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"fillPath",value:function(t,e){for(var a="",i=0;i<t.length;++i)a+=0==i?"M "+this.itox(i)+","+this.ptoy(t[i]):e(t[i],i);for(var n=t.length-1;n>=0;--n)a+=e(0,n);return a}},{key:"linePath",value:function(t,e){var a=this,i=t.reduce((function(t,i,n){return 0===n?"M ".concat(a.itox(n),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,n))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];for(var t=[],e=this.ymax-this.ymin,a=e/2.5,i=Math.round(this.ymin/a)*a,n=this.ymax,s=i;s<=n;s+=a){var r=this.ptoy(s);void 0!==r&&r>this.height-30||t.push(s)}return t}}]),a}(p["c"]);Object(E["a"])([Object(p["b"])()],Ct.prototype,"data",void 0),Ct=Object(E["a"])([p["a"]],Ct);var Dt,St,At,Et,It,Lt,Tt,Pt,$t,Bt,Rt,Mt,Nt,zt,Yt,Ft,Ht,Ut,Gt=Ct,Vt=Gt,Wt=(a("d314"),Object(y["a"])(Vt,xt,kt,!1,null,"0f85f7be",null)),Zt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{href:"https://www.naics.com/naics-code-description/?code="+t.id,target:"naics_"+t.id}},["11"==t.id?a("span",[t._v("Agriculture, Forestry, Fishing and Hunting")]):t._e(),"21"==t.id?a("span",[t._v("Mining")]):t._e(),"22"==t.id?a("span",[t._v("Utilities")]):t._e(),"23"==t.id?a("span",[t._v("Construction")]):t._e(),"31-33"==t.id?a("span",[t._v("Manufacturing")]):t._e(),"42"==t.id?a("span",[t._v("Wholesale Trade")]):t._e(),"44-45"==t.id?a("span",[t._v("Retail Trade")]):t._e(),"48-49"==t.id?a("span",[t._v("Transportation and Warehousing")]):t._e(),"51"==t.id?a("span",[t._v("Information")]):t._e(),"52"==t.id?a("span",[t._v("Finance and Insurance")]):t._e(),"53"==t.id?a("span",[t._v("Real Estate Rental and Leasing")]):t._e(),"54"==t.id?a("span",[t._v("Professional, Scientific, and Technical Services")]):t._e(),"55"==t.id?a("span",[t._v("Management of Companies and Enterprises")]):t._e(),"56"==t.id?a("span",[t._v("Administrative and Support and Waste Management and Remediation Services")]):t._e(),"61"==t.id?a("span",[t._v("Educational Services")]):t._e(),"62"==t.id?a("span",[t._v("Health Care and Social Assistance")]):t._e(),"71"==t.id?a("span",[t._v("Arts, Entertainment, and Recreation")]):t._e(),"72"==t.id?a("span",[t._v("Accommodation and Food Services")]):t._e(),"81"==t.id?a("span",[t._v("Other Services (except Public Administration) ")]):t._e(),"99"==t.id?a("span",[t._v("Public Administration")]):t._e()])])},qt=[],Qt=(Dt=Object(p["b"])({default:null,type:String}),Object(p["a"])((It=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(J["a"])(Object(O["a"])(t),"id",Et,Object(O["a"])(t)),t}return a}(p["c"]),At=It,Et=Object(D["a"])(At.prototype,"id",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=At))||St),Xt=Qt,Kt=Object(y["a"])(Xt,Jt,qt,!1,null,"7d4e0510",null),te=Kt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticClass:"county-selecter",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","remote-method":t.searchCounty,loading:t.loading,placeholder:"Search county to show detail",size:"large"},on:{change:t.change},model:{value:t.myfips,callback:function(e){t.myfips=e},expression:"myfips"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])})),1)},ae=[],ie=(a("25f0"),{props:{fips:String},data:function(){return{countyList:null,options:[],myfips:null,loading:!1}},watch:{fips:function(t){this.myfips=t}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/countylist.json").then((function(t){return t.json()})).then((function(e){t.countyList=e,t.myfips=t.fips}))},methods:{searchCounty:function(t){if(this.options=[],!(t.length<3)){this.loading=!0;var e=t.toLowerCase();this.options=this.countyList.filter((function(t){return!!t.label.toLowerCase().includes(e)||!!t.value.toString().includes(e)})),this.loading=!1}},change:function(){this.$emit("select",this.myfips),this.myfips=null}}}),ne=ie,se=(a("b170"),Object(y["a"])(ne,ee,ae,!1,null,null,null)),re=se.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2018")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}},[t._v("2018 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("City or township governments")]),a("li",[t._v("State governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1)])],1)},le=[],ce=(Lt=Object(p["a"])({components:{SlideUpDown:X["a"]}}),Lt((Pt=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(C["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}}]),a}(p["c"]),Tt=Pt))||Tt),ue=ce,de=(a("b62f"),Object(y["a"])(ue,oe,le,!1,null,"6b667a92",null)),pe=de.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2019")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}},[t._v("2019 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("City or township governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("State governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1),a("br")])],1)},ve=[],ye=($t=Object(p["a"])({components:{SlideUpDown:X["a"]}}),$t((Rt=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(C["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}}]),a}(p["c"]),Bt=Rt))||Bt),fe=ye,me=(a("64e5"),Object(y["a"])(fe,he,ve,!1,null,"3ff1e4c4",null)),be=me.exports,ge=a("04d1");p["c"].directive("scroll",{inserted:function(t,e){var a=function a(i){e.value(i,t)&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}});var _e,we,je,Oe,xe,ke,Ce,De,Se,Ae=(Mt=Object(p["a"])({components:{Plotly:ge["Plotly"],Event:at,Eligibility2018:pe,Eligibility2019:be,IndicatorInfo:lt,Footer:yt,SlideUpDown:X["a"],CompositePlot:Ot,BVIPlot:Zt,NaicsInfo:te,CountySelecter:re}}),Nt=Object(p["b"])(),zt=Object(p["d"])("fips"),Mt((Ut=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(J["a"])(Object(O["a"])(t),"fips",Ht,Object(O["a"])(t)),Object(C["a"])(Object(O["a"])(t),"popup",void 0),Object(C["a"])(Object(O["a"])(t),"statemap",void 0),Object(C["a"])(Object(O["a"])(t),"detail",null),Object(C["a"])(Object(O["a"])(t),"tab","info"),Object(C["a"])(Object(O["a"])(t),"history",[]),Object(C["a"])(Object(O["a"])(t),"bvi2Layout",{height:100,margin:{l:50,r:0,t:10,b:30,pad:10},paper_bgcolor:"#0000",plot_bgcolor:"#0000"}),Object(C["a"])(Object(O["a"])(t),"bvi2",{}),Object(C["a"])(Object(O["a"])(t),"bvi2_nonv",{}),Object(C["a"])(Object(O["a"])(t),"showNonvBVI",!1),Object(C["a"])(Object(O["a"])(t),"stormLayout",null),Object(C["a"])(Object(O["a"])(t),"stormData",null),Object(C["a"])(Object(O["a"])(t),"showPastHistory",!1),Object(C["a"])(Object(O["a"])(t),"shownIndicators",[]),Object(C["a"])(Object(O["a"])(t),"demoGraphData",[]),Object(C["a"])(Object(O["a"])(t),"demoGraphLayout",{height:200,margin:{l:30,r:30,t:10,b:20},barmode:"stack",plot_bgcolor:"#0000",paper_bgcolor:"#0000"}),Object(C["a"])(Object(O["a"])(t),"cuttersData",{}),Object(C["a"])(Object(O["a"])(t),"contextMenuCounty",null),t}return Object(j["a"])(a,[{key:"onDetailChange",value:function(){this.load()}},{key:"toggleIndicator",value:function(t){var e=this.shownIndicators.indexOf(t);~e?this.shownIndicators.splice(e,1):this.shownIndicators.push(t)}},{key:"toggleMeasureDetail",value:function(t){p["c"].set(t,"showDetail",!t.showDetail)}},{key:"goto",value:function(t){var e=document.getElementById(t);e.scrollIntoView()}},{key:"processHistory",value:function(){var t=this;this.history=[],this.detail.eda2018.forEach((function(e){e.grantee=e.grantee_name+", "+e.grantee_city+", "+e.grantee_state,e.date=new Date(e.grant_award_date),e.type="eda2018",t.history.push(e)})),this.detail.disasters.forEach((function(e){e.type="dr",e.date=new Date(e.incidentBeginDate),t.history.push(e)})),this.history.sort((function(t,e){return e.date-t.date}))}},{key:"processBVI2",value:function(){if(this.detail.bvis2)for(var t in this.detail.bvis2){var e=this.detail.bvis2[t],a=!1;e.estab_v.forEach((function(t){0!=t&&(a=!0)})),e.emp_v.forEach((function(t){0!=t&&(a=!0)})),a?this.bvi2[t]={est:{years:e.years,total:e.estab,vul:e.estab_v},emp:{years:e.years,total:e.emp,vul:e.emp_v}}:this.bvi2_nonv[t]={est:{years:e.years,total:e.estab},emp:{years:e.years,total:e.emp}}}}},{key:"processStorms",value:function(){for(var t in this.stormLayout={margin:{l:30,r:30,t:10,b:30},legend:{y:1.15,bgcolor:"rgba(255, 255, 255, 0)",bordercolor:"rgba(255, 255, 255, 0)",orientation:"h"},barmode:"stack"},this.stormData=[],this.detail.storms){var e=[],a=[];for(var i in this.detail.storms[t])e.push(i),a.push(this.detail.storms[t][i]);this.stormData.push({x:e,y:a,name:t,type:"bar"})}}},{key:"processDemo",value:function(){var t=this;this.demoGraphData=[];var e={x:this.detail.pops.years,stackgroup:"one",line:{width:0,shape:"spline",smoothing:.8},mode:"lines"};this.detail.pops.groups.forEach((function(a){t.demoGraphData.push(Object.assign({y:a.y,name:a.name,hoverinfo:"y+text"},e))}));for(var a=function(e){var a=t.demoGraphData.reduce((function(t,a){return t+a.y[e]}),0);t.demoGraphData.forEach((function(t){t.hovertext||(t.hovertext=[]),0==a?t.hovertext.push(null):t.hovertext.push((t.y[e]/a*100).toFixed(1)+"%")}))},i=0;i<this.detail.pops.years.length;++i)a(i)}},{key:"mounted",value:function(){this.fips&&this.load()}},{key:"load",value:function(){var t=this;this.showPastHistory=!1,this.showNonvBVI=!1,fetch(this.$root.dataUrl+"/counties/county."+this.fips+".json").then((function(t){return t.json()})).then((function(e){t.detail=e,delete t.detail.cutter2["INST"],delete t.detail.cutter2["FLOR"],t.processHistory(),t.processBVI2(),t.processStorms(),t.processDemo()}))}},{key:"handleScroll",value:function(){var t=this,e=["disaster","bvi","cutter","storms"];e.forEach((function(e){var a=t.$refs["nav-"+e];a&&a.classList.remove("navigator-item-active")}));var a=this.$refs["scrolled-area"],i=a.scrollTop+a.clientHeight/2;e.forEach((function(e){var a=document.getElementById(e);a&&a.offsetTop<i&&a.offsetTop+a.scrollHeight>i&&t.$refs["nav-"+e].classList.add("navigator-item-active")}))}},{key:"goback",value:function(){this.$router.replace("/")}},{key:"is2018Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2017-01-01"),a=new Date("2018-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"is2019Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2018-01-01"),a=new Date("2019-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"is2019FloodEligible",value:function(t){switch(t.incidentType){case"Tornado":case"Flood":case"Severe Storm(s)":break;default:if(t.incidentTitle&&!t.incidentTitle.toLowerCase().includes("tornado")&&!t.incidentTitle.toLowerCase().includes("flood")&&!t.incidentTitle.toLowerCase().includes("severe storms"))return!1}var e=new Date("2019-01-01"),a=new Date("2020-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuCounty,"apred-"+this.contextMenuCounty)}},{key:"recentHistory",get:function(){return this.history.filter((function(t){return t.date>=new Date("2017-01-01")}))}},{key:"pastHistory",get:function(){return this.history.filter((function(t){return t.date<new Date("2017-01-01")}))}}]),a}(p["c"]),Ft=Ut,Ht=Object(D["a"])(Ft.prototype,"fips",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(D["a"])(Ft.prototype,"onDetailChange",[zt],Object.getOwnPropertyDescriptor(Ft.prototype,"onDetailChange"),Ft.prototype),Yt=Ft))||Yt),Ee=Ae,Ie=(a("943a"),a("1a5b"),Object(y["a"])(Ee,W,Z,!1,null,"452be611",null)),Le=Ie.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"map"}}),a("div",{staticClass:"side"},[a("CountySelecter",{on:{select:t.countySelected}}),t.mode?a("div",{staticClass:"legend"},[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",size:"small"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t.mode?a("div",{staticClass:"map-description"},["dr"==t.mode?a("p",[t._v(" This map shows counties with FEMA declared disasters within specified time range. Please visit "),a("a",{attrs:{href:"https://www.fema.gov/disasters/disaster-declarations"}},[t._v("FEMA Disasters")]),t._v(" page for more detail. ")]):t._e(),"eda"==t.mode?a("p",[t._v(" This map shows locations and amounts of EDA (U.S. Economic Development Administration) fundings awarded in the specified time range. EDA assists communities experiencing economic distress or harm resulting from federally-declared natural disasters. ")]):t._e(),"resilience"==t.mode?a("p",[t._v(" This map shows disaster resilience score for each counties in the specified year aggregated into 4 major categories (Social, Economic, Infrastructure, and Community Capital). Disaster resilience scores are calculated using data from U.S. Census using formulas defined by [Cuter et al. 2020]. ")]):t._e()]):t._e(),"dr"==t.mode?a("div",[t._m(0),a("p",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"1961"==t.drRange},on:{click:t.drPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.drRange,callback:function(e){t.drRange=e},expression:"drRange"}},t._l(t.drRanges,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"recent"==t.drRange},on:{click:t.drNext}})],1)],1)],1),t._m(1),a("div",{staticClass:"legend-item",staticStyle:{"border-bottom":"1px solid #0002","margin-bottom":"8px","padding-bottom":"3px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.layersAll,expression:"layersAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.layersAll)?t._i(t.layersAll,null)>-1:t.layersAll},on:{change:[function(e){var a=t.layersAll,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.layersAll=a.concat([s])):r>-1&&(t.layersAll=a.slice(0,r).concat(a.slice(r+1)))}else t.layersAll=n},t.handleAll]}}),t._v(" All ")]),t._l(t.$root.layers,(function(e,i){return a("div",{key:i,staticClass:"legend-item",class:{hidden:t.hiddenLayers.includes(i)},staticStyle:{clear:"right"},attrs:{title:e.types.join(", ")},on:{click:function(e){return e.stopPropagation(),t.toggleLayer(i)}}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:!t.hiddenLayers.includes(i)}}),a("span",{staticClass:"legend-color",style:{backgroundColor:e.color}}),t._v(" "+t._s(i.toUpperCase())+" ")])}))],2):t._e(),"eda"==t.mode?a("div",[a("p",[a("b",[t._v("Year")]),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.edaYear},on:{click:t.edaPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.edaYear,callback:function(e){t.edaYear=e},expression:"edaYear"}},t._l(t.edaYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"all"==t.edaYear},on:{click:t.edaNext}})],1)],1)],1),a("p",{staticClass:"legend-item"},[a("b",[t._v("Grant Purpose")]),a("br"),t._l(t.edaTypes,(function(e){return a("el-radio",{key:e,attrs:{label:e},model:{value:t.edaType,callback:function(e){t.edaType=e},expression:"edaType"}},[t._v(t._s(e.split(" ").slice(0,2).join(" ")))])}))],2),t._m(2)]):t._e(),"resilience"==t.mode?a("div",[a("p",[a("b",[t._v("Year")]),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.resYear},on:{click:t.resPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.resYear,callback:function(e){t.resYear=e},expression:"resYear"}},t._l(t.resYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"2018"==t.resYear},on:{click:t.resNext}})],1)],1)],1),t._m(3),t._l(t.cutterIndicators,(function(e,i){return a("div",{key:i,staticClass:"legend-item"},[a("el-radio",{style:{color:e.color},attrs:{label:i},on:{change:t.showDRLayers},model:{value:t.drLayer,callback:function(e){t.drLayer=e},expression:"drLayer"}},[t._v(t._s(e.name))])],1)})),a("br"),a("div",{staticStyle:{"background-image":"linear-gradient(to right, red, yellow, green)",width:"100%",height:"5px"}}),a("span",{staticStyle:{float:"left"}},[t._v("Low")]),a("span",{staticStyle:{float:"right"}},[t._v("High")]),a("br")],2):t._e()]):t._e()],1),a("div",{ref:"contextmenu",staticClass:"contextmenu"},[a("p",{staticClass:"menu-item",on:{click:t.openContextMenuCounty}},[t._v("Open ("+t._s(t.contextMenuCounty)+") in a new tab")])])])},Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Date Range")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Disaster Types")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color",staticStyle:{"background-color":"#00ff00"}}),t._v(" Statewide Awards "),a("br"),a("span",{staticClass:"legend-color",staticStyle:{"background-color":"#0066ff"}}),t._v(" County Awards ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Resiliences")])])}],$e=(a("2ca0"),a("b85c")),Be=a("e192"),Re=a.n(Be);a("ac6d");Re.a.accessToken="pk.eyJ1Ijoic29pY2hpaCIsImEiOiJjazVqdnBsM2cwN242M2psdjAwZXhhaTFuIn0.o3koWlzx1Tup8CJ1B_KaEA";var Me,Ne,ze,Ye,Fe,He=(_e=Object(p["a"])({components:{CountySelecter:re}}),we=Object(p["d"])("drRange"),je=Object(p["d"])("resYear"),Oe=Object(p["d"])("edaYear"),xe=Object(p["d"])("edaType"),ke=Object(p["d"])("mode"),_e((Se=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(C["a"])(Object(O["a"])(t),"modes",[{value:"dr",label:"FEMA Disaster Declarations"},{value:"eda",label:"EDA Supplemental Awards"},{value:"resilience",label:"Disaster Resilience"}]),Object(C["a"])(Object(O["a"])(t),"popup",void 0),Object(C["a"])(Object(O["a"])(t),"selected",null),Object(C["a"])(Object(O["a"])(t),"selectedFips",null),Object(C["a"])(Object(O["a"])(t),"geojson",null),Object(C["a"])(Object(O["a"])(t),"cutters",null),Object(C["a"])(Object(O["a"])(t),"hiddenLayers",["biological"]),Object(C["a"])(Object(O["a"])(t),"drLayer","SOC"),Object(C["a"])(Object(O["a"])(t),"layersAll",!0),Object(C["a"])(Object(O["a"])(t),"contextMenuCounty",null),Object(C["a"])(Object(O["a"])(t),"contextMenuFips",null),Object(C["a"])(Object(O["a"])(t),"updatedDate",null),Object(C["a"])(Object(O["a"])(t),"mode",null),Object(C["a"])(Object(O["a"])(t),"drRange",null),Object(C["a"])(Object(O["a"])(t),"drRanges",[{value:"recent",label:"2017 - Now"}]),Object(C["a"])(Object(O["a"])(t),"yearsDR",null),Object(C["a"])(Object(O["a"])(t),"resYear",null),Object(C["a"])(Object(O["a"])(t),"resYears",[]),Object(C["a"])(Object(O["a"])(t),"edaYear",null),Object(C["a"])(Object(O["a"])(t),"edaYears",[]),Object(C["a"])(Object(O["a"])(t),"edaType","Infrastructure"),Object(C["a"])(Object(O["a"])(t),"edaTypes",[]),Object(C["a"])(Object(O["a"])(t),"cutterIndicators",{SOC:{name:"Social",color:"#444"},ECON:{name:"Economic",color:"#444"},IHFR:{name:"Infrastructure",color:"#444"},COMM:{name:"Community Capital",color:"#444"}}),t}return Object(j["a"])(a,[{key:"onRangeChange",value:function(){var t=this,e=function(e){var a=t.$root.layers[e].types;if(!a)return"continue";var i=["in","fips"],n=["in","statefips"],s=[];if("recent"==t.drRange)for(var r=new Date,o=2017;o<=r.getFullYear();++o)s.push(o);else s.push(t.drRange);s.forEach((function(e){a.forEach((function(a){t.yearsDR[e]&&t.yearsDR[e][a]&&(i=i.concat(t.yearsDR[e][a].filter((function(t){return 5==t.length}))),n=n.concat(t.yearsDR[e][a].filter((function(t){return 2==t.length}))))}))})),t.map.setFilter("county_disaster_"+e,i),t.map.setFilter("state_disaster_"+e,n)};for(var a in this.$root.layers)e(a)}},{key:"onResChange",value:function(t){var e=this;if(t){var a=parseInt(this.resYear),i=function(t){var i={};for(var n in e.cutters){var s=e.cutters[n],r=n.replace(".","");s[t]&&(i[r]=s[t][a-2012])}e.geojson.features.forEach((function(t){var e=t.properties["fips"];t.properties["resilience"]=i[e]||0})),e.map.getSource("dr"+t).setData(e.geojson)};for(var n in this.cutterIndicators)i(n)}}},{key:"onEdaYearChange",value:function(t){t&&this.updateEda()}},{key:"onEdaTypeChange",value:function(t){t&&this.updateEda()}},{key:"updateEda",value:function(){var t=["all"];if(t.push(["==",["get","purpose"],this.edaType]),"all"!=this.edaYear){var e=new Date(this.edaYear+"-01-01").getTime(),a=new Date(this.edaYear+"-12-31").getTime();t.push([">=",["get","date"],e]),t.push(["<=",["get","date"],a])}this.map.setFilter("eda",t),this.map.setFilter("eda-labels",t)}},{key:"created",value:function(){var t=window.localStorage.getItem("hiddenLayers");t&&(this.hiddenLayers=JSON.parse(t),this.layersAll=0==this.hiddenLayers.length);var e=window.localStorage.getItem("drLayer");e&&(this.drLayer=e);for(var a=2021;a>1960;--a)this.drRanges.push({value:a.toString(),label:a.toString()});for(var i=2018;i>=2012;--i)this.resYears.push({value:i.toString(),label:i.toString()});this.edaYears.push({value:"all",label:"All"});for(var n=2021;n>=2012;--n)this.edaYears.push({value:n.toString(),label:n.toString()})}},{key:"onModeChange",value:function(t){if(t&&0!=t)switch(this.hideDDLayers(),this.hideDRLayers(),this.hideEDA2018Layers(),this.mode){case"dr":this.showDDLayers();break;case"resilience":this.showDRLayers();break;case"eda":this.showEDA2018Layers();break}}},{key:"hideDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility","none"),this.map.setLayoutProperty("state_disaster_"+t,"visibility","none")}},{key:"showDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible")}},{key:"hideDRLayers",value:function(){if(this.cutters)for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility","none")}},{key:"showDRLayers",value:function(){for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility",this.drLayer==t?"visible":"none")}},{key:"hideEDA2018Layers",value:function(){this.edaYear&&(this.map.setLayoutProperty("eda-labels","visibility","none"),this.map.setLayoutProperty("eda","visibility","none"))}},{key:"showEDA2018Layers",value:function(){this.map.setLayoutProperty("eda-labels","visibility","visible"),this.map.setLayoutProperty("eda","visibility","visible")}},{key:"loadCutters",value:function(t,e){this.map.addSource("dr"+e,{type:"geojson",data:this.geojson}),this.map.addLayer({id:"dr"+e,type:"fill",source:"dr"+e,paint:{"fill-opacity":.75,"fill-color":["interpolate",["linear"],["get","resilience"],0,"red",.5,"yellow",1,"green"]},layout:{visibility:"none"}},"map"),this.resYear="2018"}},{key:"mounted",value:function(){var t=this;this.map=new Re.a.Map({container:"map",style:"mapbox://styles/soichih/ckig6p3ph51e719pcdusqyd1o",center:[0,0],minZoom:4,pitch:30,zoom:1}),this.$root.map=this.map,this.map.addControl(new Re.a.NavigationControl),this.popup=new Re.a.Popup({closeButton:!1,offset:[0,-20]}),this.map.on("load",(function(){fetch(t.$root.dataUrl+"/counties_geo.albers.geojson").then((function(e){return t.updatedDate=e.headers.get("last-modified"),e.json()})).then((function(e){t.geojson=e,t.map.addSource("counties",{type:"geojson",data:e}),t.map.addLayer({id:"map",type:"fill",source:"counties",paint:{"fill-color":"rgba(255,255,255,0.1)"}});var a=[];for(var i in t.$root.layers){var n=t.$root.layers[i];n.id=i,a.push(n)}a.sort((function(t,e){return t.zIndex-e.zIndex})),a.forEach((function(e){t.map.addLayer({id:"county_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.75*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map"),t.map.addLayer({id:"state_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.2*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map")})),fetch(t.$root.dataUrl+"/years.json").then((function(t){return t.json()})).then((function(e){t.yearsDR=e,t.drRange="recent",t.mode="dr"})),fetch(t.$root.dataUrl+"/cutter_long.json").then((function(t){return t.json()})).then((function(e){for(var a in t.cutters=e,t.cutterIndicators)t.loadCutters(2018,a)})),fetch(t.$root.dataUrl+"/eda2018.albers.geojson").then((function(t){return t.json()})).then((function(e){t.map.addSource("eda2018",{type:"geojson",data:e}),t.map.addLayer({id:"eda-labels",type:"symbol",source:"eda2018",layout:{visibility:"none","text-field":["get","awardStr"],"text-size":["interpolate",["linear"],["zoom"],2,["interpolate",["linear"],["get","award"],500,3,5e3,6],9,["interpolate",["linear"],["get","award"],500,10,5e3,30]]},paint:{"text-color":"rgba(0,0,0,1)"}}),t.map.addLayer({id:"eda",type:"fill-extrusion",source:"eda2018",paint:{"fill-extrusion-color":["get","color"],"fill-extrusion-height":["get","height"]},layout:{visibility:"none"}});var a,i=Object($e["a"])(e.features);try{for(i.s();!(a=i.n()).done;){var n=a.value;t.edaTypes.includes(n.properties.purpose)||t.edaTypes.push(n.properties.purpose)}}catch(s){i.e(s)}finally{i.f()}t.edaYear="all"}))})),t.map.on("click",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});a.length>0&&t.countySelected(a[0].properties.county_fips)})),t.map.on("contextmenu",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});if(a.length>0){e.preventDefault();var i=document.getElementById("map");t.$refs["contextmenu"].style.display="block",t.$refs["contextmenu"].style.left=e.point.x-20+"px",t.$refs["contextmenu"].style.top=i.offsetTop+e.point.y-10+"px",t.contextMenuCounty=a[0].properties.county_name+", "+a[0].properties.state_name,t.contextMenuFips=a[0].properties.county_fips}})),t.$refs["contextmenu"].addEventListener("mouseleave",(function(){t.$refs["contextmenu"].style.display="none"})),t.map.on("mousemove","counties",(function(e){t.map.getCanvas().style.cursor="pointer";var a=e.features[0],i=a.properties.county_name+", "+a.properties.state_name;for(var n in a.properties)n.startsWith("is")&&(i+=" | "+n.substring(2));t.popup.setLngLat(e.lngLat).setText(i).addTo(t.map)})),t.map.on("mouseleave","counties",(function(){t.popup.remove()})),t.map.on("idle",(function(){var e=localStorage.getItem("tutorial-played");if(!e&&!t.selected&&window.innerWidth>800){localStorage.setItem("tutorial-played",new Date);var a=document.getElementsByClassName("tutorial")[0];a.style.display="block",t.$nextTick((function(){t.showTutorial("tab")}))}}))}))}},{key:"showTutorial",value:function(t){var e=document.getElementsByClassName("tutorial")[0],a=document.getElementsByClassName("tutorial-focus")[0];a&&a.classList.remove("tutorial-focus");var i=document.getElementsByClassName("tutorial-text-show")[0];switch(i&&i.classList.remove("tutorial-text-show"),t){case"tab":a=document.getElementsByClassName("tabs")[0],i=document.getElementsByClassName("tutorial-text-tab")[0],i.style["top"]=a.offsetTop+110+"px",i.style["left"]=a.offsetLeft+20+"px";break;case"legend":a=document.getElementsByClassName("legend")[0],i=document.getElementsByClassName("tutorial-text-legend")[0],i.style["top"]=a.offsetTop+60+"px",i.style["left"]=a.offsetLeft-420+"px";break;case"county":a=document.getElementsByClassName("county-selecter")[0],i=document.getElementsByClassName("tutorial-text-county")[0],i.style["top"]=a.offsetTop+50+"px",i.style["left"]=a.offsetLeft-420+"px";break;default:return e.classList.remove("tutorial-active"),e.style.opacity="0",void setTimeout((function(){e.style.display="none"}),1e3)}e.classList.add("tutorial-active"),a.classList.add("tutorial-focus"),i.classList.add("tutorial-text-show")}},{key:"countySelected",value:function(t){this.$emit("select",t)}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuFips,"apred-"+this.contextMenuFips)}},{key:"toggleLayer",value:function(t){var e=this.hiddenLayers.indexOf(t);~e?this.hiddenLayers.splice(e,1):this.hiddenLayers.push(t),this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.layersAll=0==this.hiddenLayers.length,window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers))}},{key:"handleAll",value:function(){if(this.layersAll)this.hiddenLayers=[];else for(var t in this.hiddenLayers=[],this.$root.layers)this.hiddenLayers.push(t);for(var e in window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers)),this.$root.layers)this.map.setLayoutProperty("county_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible")}},{key:"resPrevious",value:function(){this.resYear=(parseInt(this.resYear)-1).toString()}},{key:"resNext",value:function(){this.resYear=(parseInt(this.resYear)+1).toString()}},{key:"edaPrevious",value:function(){"all"!=this.edaYear?this.edaYear=(parseInt(this.edaYear)-1).toString():this.edaYear="2021"}},{key:"edaNext",value:function(){"2021"==this.edaYear?this.edaYear="all":this.edaYear=(parseInt(this.edaYear)+1).toString()}},{key:"findIndexDrRange",value:function(t){var e=null;return this.drRanges.forEach((function(a,i){a.value==t&&(e=i)})),e}},{key:"drPrevious",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t+1].value}},{key:"drNext",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t-1].value}}]),a}(p["c"]),De=Se,Object(D["a"])(De.prototype,"onRangeChange",[we],Object.getOwnPropertyDescriptor(De.prototype,"onRangeChange"),De.prototype),Object(D["a"])(De.prototype,"onResChange",[je],Object.getOwnPropertyDescriptor(De.prototype,"onResChange"),De.prototype),Object(D["a"])(De.prototype,"onEdaYearChange",[Oe],Object.getOwnPropertyDescriptor(De.prototype,"onEdaYearChange"),De.prototype),Object(D["a"])(De.prototype,"onEdaTypeChange",[xe],Object.getOwnPropertyDescriptor(De.prototype,"onEdaTypeChange"),De.prototype),Object(D["a"])(De.prototype,"onModeChange",[ke],Object.getOwnPropertyDescriptor(De.prototype,"onModeChange"),De.prototype),Ce=De))||Ce),Ue=He,Ge=(a("5191"),Object(y["a"])(Ue,Te,Pe,!1,null,"5cc05b16",null)),Ve=Ge.exports,We=(Me=Object(p["a"])({components:{TopMenu:V,CountyDetail:Le,CountyMap:Ve}}),Ne=Object(p["d"])("$route"),Me((Fe=function(t){Object(x["a"])(a,t);var e=Object(k["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(C["a"])(Object(O["a"])(t),"fips",null),Object(C["a"])(Object(O["a"])(t),"mountmap",!1),Object(C["a"])(Object(O["a"])(t),"showmap",!1),t}return Object(j["a"])(a,[{key:"onRouteChange",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"changeFips",value:function(t){this.$router.push("/county/"+t)}},{key:"mounted",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"togglemap",value:function(){var t=this;this.fips||(this.mountmap=!0,this.showmap=!0,this.$nextTick((function(){t.$root.map&&t.$root.map.resize()}))),this.fips&&(this.showmap=!1)}}]),a}(p["c"]),Ye=Fe,Object(D["a"])(Ye.prototype,"onRouteChange",[Ne],Object.getOwnPropertyDescriptor(Ye.prototype,"onRouteChange"),Ye.prototype),ze=Ye))||ze),Ze=We,Je=Object(y["a"])(Ze,g,_,!1,null,null,null),qe=Je.exports;i["default"].use(b["a"]);var Qe=[{path:"/",component:qe,meta:{}},{path:"/county/:fips",component:qe,meta:{}}],Xe=new b["a"]({base:"/projects/apred/",routes:Qe}),Ke=Xe,ta=a("bc3a"),ea=a.n(ta),aa=a("a7fe"),ia=a.n(aa),na=a("0284"),sa=a.n(na),ra=a("1232");i["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},i["default"].use(o.a,{locale:s.a}),i["default"].config.productionTip=!1,i["default"].use(ia.a,ea.a),i["default"].use(sa.a,{id:"UA-161425227-2"}),new i["default"]({data:function(){return{dataUrl:"https://api.ctil.iu.edu/pub",drMeasures:{},user:null,map:null,layers:{hurricane:{color:"#0af",types:["Hurricane"],zIndex:5},tornado:{color:"#f6f",types:["Tornado"],zIndex:6},"severe storm":{color:"#fa0",types:["Severe Storm(s)"],zIndex:7},flood:{color:"#06f",types:["Flood"],zIndex:8},fire:{color:"#f00",types:["Fire"],zIndex:9},biological:{color:"#396",opacity:.5,types:["Biological"],zIndex:0},other:{color:"#999",types:["EarthQuake","Coastal Storm","Snow","Mud/Landslide","Volcano","Dam/Levee Break","Severe Ice Storm"],zIndex:1}}}},mounted:function(){var t=this,e=new URLSearchParams(window.location.search);e.has("jwt")&&(localStorage.setItem("jwt",e.get("jwt")),window.location.search="");var a=localStorage.getItem("jwt");a&&(this.user=Object(ra["a"])(a),this.user.exp<(new Date).getTime()/1e3?(localStorage.removeItem("jwt"),this.user=null):ea.a.defaults.headers.common["Authorization"]="Bearer "+a),fetch(this.dataUrl+"/raw/dr_measure.json").then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.drMeasures[e.measure]={name:e["measure_name"],desc:e["measure_desc"],calcDesc:e["measure_calculation_desc"]}}))}))},methods:{signout:function(){localStorage.removeItem("jwt"),this.user=null}},router:Ke,render:function(t){return t(m)}}).$mount("#app")},d314:function(t,e,a){"use strict";var i=a("e036"),n=a.n(i);n.a},d89b:function(t,e,a){},d9e6:function(t,e,a){},e036:function(t,e,a){}});
//# sourceMappingURL=app.d4e06e98.js.map