(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/projects/apred/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"063d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACWCAIAAAB2EXwkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmBJREFUeNrs3T1OG0EAgFE7QqF1kcYcgBqJA3i3D2fAVWrfAI5ASyr7CAj3LA21EZ2rrZIGJCSqpCEToYjIkGCS2WF29b4SiWWGJ8/+aOXpH/f0xr3zL2AgBgzEgIEYMBADBmLAQAwYiAEDMWAgBgz0TBsZjun9YPBhZ6eJI18vFt9vbxm8XAD4eHbWxJHnZfmlqqxFYsBADBiIAQM9X78t711/ur9/7a987vd9DsSAgRgw0NpFeG66V1XD0SjusBq6pPmHi6u/9/X8/LQofA6sRWLAQAwYiIH7g19dTCabg8HvP9kej7f399c/wnI2W06nCWY7L8u44/wW402ZCAY3i8XKT4avvG25q+s0r5ys/JVMxmktcj4QAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBA61fFvuAbBVF7/Aw+mF3Xzrm1n9/FV13DIajUfRvJfxpcHBgLRIDBmLAQG9rkOFefDnPqxGDq6Oj5WzWMYAwozCvNq1F1XjcJYYwlzCj9p0POsPQKEDj5+QOMDQNkOK6qNUMCQASXZteTCY3l5etA6hPThIAJDIIl3SnRdEuhjDaNADp7tHaxRDGGUab7C4n3X1yWxgSA6R+VpE/Q3qAnv0yc8gzOwZiwEAMGIgBAzFgoMc28hzWboxXgJ8eZDmd3tV1bpPN9HlR9A2/H5qXZZrN8KxFzgdiwEAMGIgBAzFoaZk+q1jZ+D5W10+2nWfwxzJ8omAtYiAGDMSAgRgwEAMGYsBADBiIAQMxYCAGDJS2HwIMAK+RvsulC4ZHAAAAAElFTkSuQmCC"},"0d23":function(t,e,a){},"1a5b":function(t,e,a){"use strict";var i=a("a421"),n=a.n(i);n.a},"2d37":function(t,e,a){"use strict";var i=a("630c"),n=a.n(i);n.a},"499d":function(t,e,a){"use strict";var i=a("93ce"),n=a.n(i);n.a},"4a46":function(t,e,a){},5191:function(t,e,a){"use strict";var i=a("4a46"),n=a.n(i);n.a},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),n=a.n(i);n.a},"5e09":function(t,e,a){},"630c":function(t,e,a){},"64e5":function(t,e,a){"use strict";var i=a("8684"),n=a.n(i);n.a},"828a":function(t,e,a){"use strict";var i=a("5e09"),n=a.n(i);n.a},8684:function(t,e,a){},"8fb2":function(t,e,a){},"92a8":function(t,e,a){},"93ce":function(t,e,a){},"9c0c":function(t,e,a){},"9df2":function(t,e,a){"use strict";var i=a("0d23"),n=a.n(i);n.a},a421:function(t,e,a){},a9d8:function(t,e,a){"use strict";var i=a("92a8"),n=a.n(i);n.a},ad47:function(t,e,a){"use strict";var i=a("d9e6"),n=a.n(i);n.a},b170:function(t,e,a){"use strict";var i=a("bd86"),n=a.n(i);n.a},b62f:function(t,e,a){"use strict";var i=a("d89b"),n=a.n(i);n.a},bd86:function(t,e,a){},be11:function(t,e,a){},be34:function(t,e,a){"use strict";var i=a("be11"),n=a.n(i);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("0fae"),a("b2d6")),s=a.n(n),r=a("5c96"),o=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],u=(a("4de4"),a("6612")),d=a.n(u),p=a("60a3");p["c"].filter("formatNumber",(function(t){return d()(t).format("0,0")}));var h={name:"App",mounted:function(){this.active=this.$route.meta.menu},watch:{$route:function(){this.$route.meta.menu&&(this.active=this.$route.meta.menu)}}},y=h,m=(a("5c0b"),a("2877")),v=Object(m["a"])(y,l,c,!1,null,null,null),f=v.exports,b=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("TopMenu"),t.fips?a("CountyDetail",{attrs:{fips:t.fips}}):t._e(),t.mountmap?a("CountyMap",{directives:[{name:"show",rawName:"v-show",value:t.showmap,expression:"showmap"}],on:{select:t.changeFips}}):t._e()],1)},_=[],w=(a("99af"),a("d81d"),a("e439"),a("d4ec")),j=a("bee2"),O=a("257e"),x=a("262e"),C=a("2caf"),k=a("ade3"),S=a("63ae"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"topmenu"}},[a("div",{staticClass:"page"},[t._m(0),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.login}},[t._v("Log In")]),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"primary"},on:{click:t.signup}},[t._v("Sign Up")]),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.signout}},[t._v("Sign Out")]):t._e(),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"success"},on:{click:t.settings}},[t._v("Settings")]):t._e(),t._m(1),a("p",{staticClass:"title"},[a("el-tag",{staticClass:"beta",attrs:{effect:"dark",type:"info",size:"mini"}},[a("b",[t._v("BETA")])]),t._m(2),a("span",{staticClass:"sub-title"},[t._v("Analysis Platform for Risk, Resilience and Expenditure in Disasters")])],1),a("p",{staticClass:"disclaimer"},[t._v("For testing purposes only. Not for public use or for supporting current EDA applications.")])],1)])},A=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"https://iu.edu"}},[i("img",{staticClass:"trident",attrs:{src:a("063d"),height:"50px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pull-right",staticStyle:{"font-weight":"bold",top:"15px"}},[a("a",{staticStyle:{color:"inherit"},attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://ctil.iu.edu/projects/apred-landing"}},[a("b",{staticStyle:{color:"#900"}},[t._v("APRED")])])}],E=a("9ab4"),L=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.call(this),t.app="prod","localhost"==document.location.hostname&&(t.app="dev"),t}return Object(j["a"])(a,[{key:"signup",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/signup?app="+this.app}},{key:"login",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/login?app="+this.app}},{key:"settings",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/settings/account?app="+this.app}},{key:"signout",value:function(){this.$root.signout()}}]),a}(p["c"]);L=Object(E["a"])([p["a"]],L);var I,P,$,R,T,M,B,N,z,H,F,Y=L,U=Y,G=(a("9df2"),Object(m["a"])(U,D,A,!1,null,"39d34634",null)),V=G.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.detail?a("div",{ref:"scrolled-area",on:{scroll:t.handleScroll}},[a("div",{staticClass:"header"},[a("div",{staticClass:"page"},[a("div",{staticStyle:{float:"right",width:"300px","padding-top":"15px"}},[a("CountySelecter",{on:{select:function(e){t.fips=e}}})],1),a("h3",{staticStyle:{"font-weight":"normal","margin-right":"300px"}},[a("el-button",{staticClass:"back-button",attrs:{type:"primary",circle:"",icon:"el-icon-back"},on:{click:function(e){return t.goback()}}}),t._v(" "),a("span",{staticClass:"important"},[a("b",[t._v(t._s(t.detail.county))]),t._v(" county,")]),t._v(" "+t._s(t.detail.state)+" ")],1),a("br",{attrs:{clear:"both"}}),a("el-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{name:"info",label:"County Detail"}}),a("el-tab-pane",{attrs:{name:"disaster",label:"Disaster Declarations/EDA Awards ("+t.history.length+")"}}),t.detail.bvis2?a("el-tab-pane",{attrs:{name:"bvi",label:"Business Vulnerability"}}):t._e(),a("el-tab-pane",{attrs:{name:"resilience",label:"Disaster Resilience"}}),a("el-tab-pane",{attrs:{name:"storms",label:"Storm History"}})],1)],1)]),"info"==t.tab?a("div",{staticClass:"page"},[a("br"),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])]),t.detail.population?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.population)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.population,histogram:t.$root.populationHistogram,fips:t.fips,state:t.detail.state}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population Density")]),t.detail.popdensity?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.popdensity))+" people per sq. mile")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.popdensity,histogram:t.$root.popdensityHistogram,fips:t.fips,state:t.detail.state}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population History"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])])]),a("el-col",{attrs:{span:19}},[a("Plotly",{attrs:{data:t.demoGraphData,layout:t.demoGraphLayout,"display-mode-bar":!1}}),a("br"),a("br")],1)],1),a("hr"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("GDP"),a("br"),a("small",[a("a",{attrs:{href:"https://www.bea.gov/",target:"bea"}},[t._v("(BEA)")])])]),t.detail.gdp?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.gdp/1e3))+" M")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")]),a("br")]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.gdp,histogram:t.$root.gdpHistogram,fips:t.fips,state:t.detail.state}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])]),t.detail.percapitaincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.percapitaincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.percapitaincome,histogram:t.$root.perCapitaIncomeHistogram,fips:t.fips,state:t.detail.state}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Median Household Income"),a("br"),a("small",{attrs:{title:"US Census Bureau"}},[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])]),t.detail.medianincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.medianincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.medianincome,histogram:t.$root.medianIncomeHistogram,fips:t.fips,state:t.detail.state}}):t._e(),a("br"),a("br")],1)],1),a("hr"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Money Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(5-year ACS)")])])])]),a("el-col",{attrs:{span:19}},[a("p",[a("Plotly",{attrs:{data:t.pcmGraphData,layout:t.pcmGraphLayout,"display-mode-bar":!1}}),a("small",[t._v("The amount of money (only cash sources) earned per person. Released annually in December.")])],1),a("br"),a("br")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Personal Income"),a("small",[a("a",{attrs:{href:"https://www.bea.gov/",target:"bea"}},[t._v("(BEA)")])])])]),a("el-col",{attrs:{span:19}},[a("p",[a("Plotly",{attrs:{data:t.pcpGraphData,layout:t.pcpGraphLayout,"display-mode-bar":!1}}),a("small",[t._v("An estimate of income per person that includes not only cash sources of income, but also insurance, transfer payments, dividends, interest, and rent. Released annually in the spring.")])],1),a("br")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v(" Unemployment Rate"),a("br"),a("small",[t._v("(24-month avg. BLS)")])]),a("div",[a("h5",[t._v("US Average")]),a("span",{staticClass:"primary",staticStyle:{color:"gray"}},[t._v(" "+t._s(t.unempRateUS)+"%")])]),a("div",[a("h5",[a("b",[t._v(t._s(t.detail.county))]),t._v(" County")]),a("span",{staticClass:"primary"},[t._v(" "+t._s(t.unempRateCounty)+"%")]),a("br"),t.unempRateUS<t.unempRateCounty?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("Above US Rate")]):t._e()],1),a("div",{staticStyle:{opacity:"0.6"}},[a("h5",[t._v("Report Date")]),t._v(" "+t._s(new Date(t.unempRateDate).toLocaleDateString())+" ")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("p",[a("Plotly",{attrs:{data:t.urGraphData,layout:t.urGraphLayout,"display-mode-bar":!1}}),a("small",[t._v("Calculated by taking the sum of unemployed persons for one geography for the previous 24 months divided by the sum of the labor force for that geography for the previous 24 months. Released monthly as part of the Local Area Unemployment Statistics (LAUS) program.")])],1):t._e(),a("p",[a("el-button",{attrs:{round:"",size:"small"},on:{click:function(e){t.showEmploymentHistory=!t.showEmploymentHistory}}},[t.showEmploymentHistory?t._e():a("i",{staticClass:"el-icon-caret-right"}),t.showEmploymentHistory?a("i",{staticClass:"el-icon-caret-bottom"}):t._e(),t._v(" Show Employment History ")]),t.$root.commonReady&&t.showEmploymentHistory?a("Plotly",{attrs:{data:t.uGraphData,layout:t.uGraphLayout,"display-mode-bar":!1}}):t._e()],1),a("br")])],1),a("br"),a("hr"),a("div",{staticStyle:{margin:"20px",padding:"20px"}},[a("el-link",{attrs:{type:"primary",target:"json."+t.fips,href:t.$root.dataUrl+"/counties/county."+t.fips+".json"}},[t._v("Download County Detail (.json)")])],1)],1):t._e(),"disaster"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(0),0==t.recentHistory.length?a("p",{staticStyle:{opacity:"0.8"}},[t._v("No disaster declared since 2017")]):t._e(),t._l(t.recentHistory,(function(e,i){return a("div",{key:i,staticClass:"history"},[a("Event",{attrs:{event:e}},[i<t.recentHistory.length?a("div",{staticClass:"connecter",staticStyle:{float:"right"}},[t.$root.user&&t.is2018Eligible(e)?a("Eligibility2018"):t._e(),t.$root.user&&(t.is2019Eligible(e)||t.is2019FloodEligible(e))?a("Eligibility2019"):t._e()],1):t._e()])],1)})),t.showPastHistory?t._e():a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showPastHistory=!t.showPastHistory}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Past Disasters ("+t._s(t.pastHistory.length)+") ")])],1),t.showPastHistory?a("div",t._l(t.pastHistory,(function(t,e){return a("Event",{key:e,staticClass:"history",attrs:{event:t}})})),1):t._e(),a("br"),a("br")],2):t._e(),"bvi"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(1),t._m(2),t._m(3),t._m(4),a("br",{attrs:{clear:"both"}}),a("br"),a("br"),t._l(t.bvi2,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("Plotly",{attrs:{data:e.estPlotly,layout:t.bviLayout,"display-mode-bar":!1}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("Plotly",{attrs:{data:e.empPlotly,layout:t.bviLayout,"display-mode-bar":!1}})],1)],1)],1)})),!t.showNonvBVI&&Object.keys(t.bvi2_nonv).length>0?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showNonvBVI=!t.showNonvBVI}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Non-vulnerable Sectors ("+t._s(Object.keys(t.bvi2_nonv).length)+") ")])],1):t._e(),t.showNonvBVI?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),t._l(t.bvi2_nonv,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("Plotly",{attrs:{data:e.estPlotly,layout:t.bviLayout,"display-mode-bar":!1}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("Plotly",{attrs:{data:e.empPlotly,layout:t.bviLayout,"display-mode-bar":!1}})],1)],1)],1)}))],2):t._e(),a("br",{attrs:{clear:"both"}})],2):t._e(),"resilience"==t.tab?a("div",{staticClass:"page"},[a("br"),t._m(5),t._m(6),t._l(t.detail.cutter2,(function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"15px",clear:"both"}},[a("div",{staticClass:"indicator-header"},[a("b",{staticClass:"indicator-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"indicator-detail"},[a("IndicatorInfo",{attrs:{id:i}})],1)]),t._m(7,!0),a("br",{attrs:{clear:"both"}}),t._l(t.detail.cutter2[i].sources.filter((function(t){return t.stats})),(function(e){return a("div",{key:e.id,staticClass:"measure-info"},[a("p",{staticStyle:{margin:"0"}},[a("b",[t._v(t._s(e.name))])]),a("p",{staticStyle:{"min-height":"50px",margin:"0"}},[t._v(" "+t._s(t.$root.drMeasures[e.id].desc)+" ")]),t.detail?a("CompositePlot",{attrs:{cutters:e.stats,edaAwards:t.detail.eda2018}}):t._e(),a("br"),a("p",[a("el-button",{attrs:{size:"mini",round:""},on:{click:function(a){return t.toggleMeasureDetail(e)}}},[e.showDetail?a("span",[t._v("Hide")]):a("span",[t._v("Show")]),t._v(" Detail ")])],1),a("slide-up-down",{attrs:{active:e.showDetail}},[a("small",[t._v(" "+t._s(t.$root.drMeasures[e.id].calcDesc)+" ")])])],1)})),a("br",{attrs:{clear:"both"}})],2)}))],2):t._e(),"storms"==t.tab?a("div",{staticClass:"page"},[a("br"),t.stormData&&t.stormData.length>0?a("div",[a("p",[t._v("This graph shows the counts of storm events published by NOAA since 1950s.")]),t._m(8),a("p",[t._v("You can click on the chart legend to select or deselect which storm events to show on the graph.")]),a("Plotly",{attrs:{data:t.stormData,layout:t.stormLayout,"display-mode-bar":!1}})],1):a("p",[t._v("No storm data")]),a("br"),a("br"),a("br")]):t._e(),a("Footer")],1):t._e()},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Major Disaster Declarations declared under the Robert T. Stafford Disaster Relief and Emergency Assistance Act that may support eligibility for investment assistance from "),a("a",{attrs:{href:"https://www.eda.gov/"}},[t._v("EDA")]),t._v(" (the U.S. Economic Development Administration) under the agencyâ€™s Public Works and Economic Adjustment Assistance Programs. Through these programs, EDA provides investment assistance to communities and regions to devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects. Only the FEMA Disaster Declarations (not Emergency Declarations) are displayed. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Business Vulnerability Index (BVI)")]),t._v(" is a percentage of businesses in a county that are believed to be "),a("i",[t._v("vulnerable")]),t._v(" to various natural disasters. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" To calculate the BVI, we isolated businesses by NAICS code from the U.S. Census' most recent "),a("a",{attrs:{href:"https://www.census.gov/econ/overview/mu0800.html"}},[t._v("County Business Patterns")]),t._v(" based on their vulnerability to natural disaster (farmers, transportation companies, etc.). ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Businesses that were identified to be especially vulnerable to a disater are.. "),a("ul",[a("li",[t._v("dependent on supply chains")]),a("li",[t._v("have a high reliance on public utilities like water and electricity")]),a("li",[t._v("or have a large infrastructure footprint and low infrastructure mobility.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#999"}}),t._v(" Total "),a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#900"}}),t._v(" Vulnerable ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Disaster resilience measures the capacity of a community to recover from disaster events without losing their socioeconomic and infrastructural viability "),a("a",{attrs:{href:"https://gsdrc.org/topic-guides/disaster-resilience/concepts/what-is-disaster-resilience/"}},[t._v("[Combaz, 2015]")]),a("a",{attrs:{href:"https://www.unisdr.org/2005/wcdr/intergover/official-doc/L-docs/Hyogo-framework-for-action-english.pdf"}},[t._v("[UNISDR, 2005]")]),t._v(" (the higher, the better). Using the framework provided by "),a("a",{attrs:{href:"http://resiliencesystem.com/sites/default/files/Cutter_jhsem.2010.7.1.1732.pdf"}},[t._v("[Cutter et al. 2010]")]),t._v(", this section merges the resilient and vulnerable variables of a county into a unified set of indices - to produce aggregated information on disaster resilience levels. Expand each measure to show more detail. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" The resilience scores are calculated using information collected by the "),a("a",{attrs:{href:"https://data.census.gov/cedsci/"}},[t._v("U.S. Census")]),t._v(" using formulas defined by Cutters, et all. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#409eff"}}),t._v(" This County "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#09f5"}}),t._v(" State Average(+standard deviation) "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#0003"}}),t._v(" US Average(+standard deviation) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Storm data has gone through many changes and versions over the years. The source data ingested into the database are widely varied and leads to many questions about the precision and accuracy of the location data. Please see "),a("a",{attrs:{href:"https://www.ncdc.noaa.gov/stormevents/details.jsp",target:"noaa"}},[t._v("https://www.ncdc.noaa.gov/stormevents/faq.jsp")]),t._v(" for more detail.")])}],Z=(a("caad"),a("c975"),a("13d5"),a("a434"),a("b0c0"),a("b680"),a("2532"),a("5319"),a("6b7b")),J=(a("f890"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.eventClass},[a("div",{staticClass:"event-header"},[a("div",{staticClass:"event-icon"},["dr"==t.event.type?a("div",{style:t.eventIconStyle},[a("i",{staticClass:"el-icon-warning"})]):"eda2018"==t.event.type?a("div",{staticClass:"eda2018",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[a("i",{staticClass:"el-icon-money",staticStyle:{"background-color":"green","border-radius":"50%",color:"white"}})]):t._e()]),"dr"==t.event.type?a("h3",{style:t.eventIconStyle},[t.event.statewide?a("el-tag",{staticStyle:{position:"relative",top:"-2px"},attrs:{type:"info"}},[t._v("STATEWIDE")]):t._e(),t._v(" "),t.event.tribe?a("el-tag",{staticStyle:{position:"relative",top:"-2px"},attrs:{type:"info"}},[t._v(t._s(t.event.designatedArea))]):t._e(),t._v(" "),a("b",[t._v(t._s(t.event.incidentType))]),t._v(" "),a("br")],1):"eda2018"==t.event.type?a("h3",{staticClass:"eda2018",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[a("el-tag",{staticStyle:{float:"right"},attrs:{size:"small",effect:"dark",type:"success"}},[t._v("fain: "+t._s(t.event.fain))]),t.event.statewide?a("b",[t._v("Statewide")]):t._e(),t._v(" EDA 2018 Disaster Supplemental Award "),a("span",{staticStyle:{opacity:"0.5"}},[t._v(" | ")]),t._v(" $"+t._s(t._f("formatNumber")(t.event.award_amount))+" "),t.event.counties.length?a("el-tag",{attrs:{size:"small",type:"warning"}},[t._v("Multi-county("+t._s(t.event.counties.length)+") Award")]):t._e()],1):t._e()]),a("div",{staticClass:"event-body"},["dr"==t.event.type?a("div",[t._t("default"),a("div",{staticClass:"event-date"},[a("small",{staticStyle:{opacity:"0.6"}},[t._v("Incident date from ")]),t._v(" "),a("time",{attrs:{title:"Incident Begin Date"}},[t._v(t._s(new Date(t.event.incidentBeginDate).toLocaleDateString()))]),a("small",[t.event.incidentEndDate?a("time",{attrs:{title:"Incident End Date"}},[t._v(" to "+t._s(new Date(t.event.incidentEndDate).toLocaleDateString()))]):a("span",[t._v(" - ongoing")])])]),a("span",{staticStyle:{opacity:"0.9","font-style":"italic"}},[t._v(t._s(t.event.declarationTitle))]),t._v(" "),a("small",{staticStyle:{opacity:"0.6"}},[t._v(" declared on "+t._s(t.event.date.toLocaleDateString())+" ")]),a("h3",{style:t.eventIconStyle},[a("span",[t.event.hmProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"warning"}},[a("a",{attrs:{href:"https://www.fema.gov/grants/mitigation/hazard-mitigation",target:"fema"}},[t._v("Hazard Mitigation")])]):t._e(),t._v(" "),t.event.ihProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"danger"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual/program",target:"fema"}},[t._v("Individuals and Households")])]):t._e(),t._v(" "),t.event.iaProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",title:"Individual Assistance Program"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual",target:"fema"}},[t._v("Individual Assistance")])]):t._e(),t._v(" "),a("a",{attrs:{href:"https://www.fema.gov/disaster/"+t.event.disasterNumber,target:"fema"}},[a("el-tag",{attrs:{size:"mini",effect:"plain",type:"info"}},[t._v("Disaster # "+t._s(t.event.disasterNumber))])],1)],1)])],2):"eda2018"==t.event.type?a("div",[a("div",{staticClass:"event-date"},[a("small",{staticStyle:{opacity:"0.6"}},[t._v("grant awarded on ")]),t._v(" "),a("time",{attrs:{title:"Grant Award Date"}},[t._v(t._s(new Date(t.event.grant_award_date).toLocaleDateString()))])]),a("b",[t._v("To:")]),t._v(" "),t._v(t._s(t.event.grantee_name)+", "+t._s(t.event.grantee_city)+", "+t._s(t.event.grantee_state)),a("br"),a("br"),a("b",[t._v("For:")]),t._v(" "+t._s(t.event.grant_purpose)+" "),a("br"),a("br"),a("b",[t._v("Regional Office:")]),t._v(" "+t._s(t.event.eda_regional_office)+" "),t._t("default")],2):a("div",[t._v(" "+t._s(t.event)+" ")])])])}),Q=[],X=(a("498a"),a("3e84")),K=(I=Object(p["a"])({components:{SlideUpDown:X["a"]}}),P=Object(p["b"])({type:Object}),I((M=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(Z["a"])(Object(O["a"])(t),"event",T,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"show_pa",!1),t}return Object(j["a"])(a,[{key:"totalPA",value:function(t){return t.reduce((function(t,e){return t+e.projectAmount}),0)}},{key:"eventClass",get:function(){var t=[];return"dr"==this.event.type&&(this.event.statewide&&t.push("dr-state"),this.event.tribe?t.push("dr-tribe"):t.push("dr-county")),t}},{key:"eventDateTitle",get:function(){return"eda2018"==this.event.type?"Grant Award Date":"Incident Date"}},{key:"eventIconStyle",get:function(){var t=this.$root.layers["other"].color,e=this.event.incidentType.toLowerCase();return~e.indexOf("(")&&(e=e.substring(0,e.indexOf("("))),e=e.trim(),this.$root.layers[e]&&(t=this.$root.layers[e].color),{color:t}}}]),a}(p["c"]),R=M,T=Object(S["a"])(R.prototype,"event",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=R))||$),tt=K,et=(a("ad47"),Object(m["a"])(tt,J,Q,!1,null,"07e2f7b5",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["SOC"==t.id?a("p",[t._v(" Social resilience deals with attributes of the individual members of communities. ")]):"ECON"==t.id?a("p",[t._v(" Economic resilience deals with the financial and economic factors that contribute to the resilience of communities. ")]):"INST"==t.id?a("p",[t._v(" TODO - describe this index ")]):"IHFR"==t.id?a("p",[t._v(" Infrastructure resilience deals with physical structures (housing, shelter, medical capacity, etc.) that exist within communities. ")]):"COMM"==t.id?a("p",[t._v(" Community Capital deals with the relationships between the individual and the community as a whole. ")]):"FLOR"==t.id?a("p",[t._v(" TODO - describe this index ")]):t._e()])},nt=[],st=(B=Object(p["b"])({default:null,type:String}),Object(p["a"])((F=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(Z["a"])(Object(O["a"])(t),"id",H,Object(O["a"])(t)),t}return a}(p["c"]),z=F,H=Object(S["a"])(z.prototype,"id",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=z))||N),rt=st,ot=(a("be34"),Object(m["a"])(rt,it,nt,!1,null,"7cd5238a",null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"page"},[a("p",[t._v(" This platform brings data science to decision-makers dealing with the economics of disaster mitigation, analysis, and recovery activities. ")]),a("p",[a("i",[t._v("This publication was prepared by the CTIL and IBRC at Indiana University using federal funds awarded to the Trustees of Indiana University and as a sub-component under award number ED17HDQ3120040 from the U.S. Economic Development Administration, U.S. Department of Commerce. The statements, findings, conclusions, and recommendations are those of the author(s) and do not necessarily reflect the views of the Economic Development Administration or the U.S. Department of Commerce.")])]),a("div",{staticStyle:{float:"right"}},[a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("ctil@iu.edu")]),t._v(" | "),a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("Contact Us")])]),a("h3",[a("a",{attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")]),t._v(" "),a("small",[t._v("Crisis Technologies Innovation Lab")])])]),a("br"),a("br")])}],dt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){return Object(w["a"])(this,a),e.apply(this,arguments)}return a}(p["c"]);dt=Object(E["a"])([p["a"]],dt);var pt=dt,ht=pt,yt=(a("a9d8"),Object(m["a"])(ht,ct,ut,!1,null,"5a98ce7e",null)),mt=yt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i),"text-anchor":"middle",y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s((100*e).toFixed(t.fixed))+" %")])}))],2),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.us.avg,t.cutters.us.sdev,t.lineCommand),fill:"#0002",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.us.avg,t.lineCommand),fill:"none",stroke:"#0005","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.states.avg,t.cutters.states.sdev,t.lineCommand),fill:"#09f4",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.states.avg,t.lineCommand),fill:"none",stroke:"#09f8","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.svgPath(t.cutters.county,t.lineCommand),fill:"none",stroke:"#409EFF","stroke-width":"3"}}),t._l(t.cutters.county,(function(e,i){return a("g",{key:i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"10",stroke:"#409EFF","stroke-width":"4",fill:"white"}}),a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-30,"text-anchor":"middle"}},[t._v(t._s((100*e).toFixed(t.fixed+1))+"%")])])}))],2)])])},ft=[],bt=(a("c7cd"),a("99de")),gt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a),t=e.call(this),t.height=300,t.ymax=null,t.ymin=null,t.fixed=0,t.years=[],t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))};for(var i=2012;i<=2018;++i)t.years.push(i);var n=function(e,a){e.forEach((function(e,i){if(null!=e){var n=e,s=e;a&&(n-=a[i],s+=a[i]),(null===t.ymin||t.ymin>n)&&(t.ymin=n),(null===t.ymax||t.ymax<s)&&(t.ymax=s)}}))};if(n(t.cutters.county),n(t.cutters.states.avg,t.cutters.states.sdev),n(t.cutters.us.avg,t.cutters.us.sdev),null==t.ymin)return Object(bt["a"])(t);if(null==t.ymax)return Object(bt["a"])(t);var s=t.ymax-t.ymin;return t.ymax+=s/5,t.ymin-=s/5,t}return Object(j["a"])(a,[{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-30-(this.height-40)*e}}},{key:"itox",value:function(t){return 800/(this.years.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),n=i-a,s=850/n*(e.getTime()-a)+100;return s}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"sdevPath",value:function(t,e,a){for(var i="",n=0;n<t.length;++n)i+=0==n?"M "+this.itox(n)+","+this.ptoy(t[n]+e[n]):a(t[n]+e[n],n);for(var s=t.length-1;s>=0;--s)i+=a(t[s]-e[s],s);return i}},{key:"svgPath",value:function(t,e){var a=this,i=t.reduce((function(t,i,n){return 0===n?"M ".concat(a.itox(n),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,n))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];var t=[],e=this.ymax-this.ymin,a=e/4;e<.025&&(this.fixed=2);for(var i=Math.round(this.ymin/a)*a,n=this.ymax,s=i;s<=n;s+=a){var r=this.ptoy(s);void 0!==r&&r>this.height-30||t.push(s)}return t}}]),a}(p["c"]);Object(E["a"])([Object(p["b"])()],gt.prototype,"edaAwards",void 0),Object(E["a"])([Object(p["b"])()],gt.prototype,"cutters",void 0),gt=Object(E["a"])([p["a"]],gt);var _t=gt,wt=_t,jt=(a("828a"),Object(m["a"])(wt,vt,ft,!1,null,"40434ea6",null)),Ot=jt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.data.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.data.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i)-25,y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s(t._f("formatNumber")(e)))])}))],2),a("g",[a("path",{attrs:{d:t.fillPath(t.data.total,t.lineCommand),fill:"rgba(0, 0, 0, 0.2)",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.total,t.lineCommand),fill:"none",stroke:"#666","stroke-width":"3"}}),t.data.vul?a("g",[a("path",{attrs:{d:t.fillPath(t.data.vul,t.lineCommand),fill:"#f403",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.vul,t.lineCommand),fill:"none",stroke:"#c00","stroke-width":"3"}}),t._l(t.data.vul,(function(e,i){return a("g",{key:"v-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#900","stroke-width":"4",fill:"white"}})])}))],2):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"t-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#666","stroke-width":"4",fill:"white"}})])})),t.data.vul?a("g",t._l(t.data.vul,(function(e,i){return a("g",{key:"vt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)+35,"text-anchor":"middle",fill:"#900"}},[t._v(t._s(t._f("formatNumber")(e)))])])})),0):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"tt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-20,"text-anchor":"middle",fill:"#666"}},[t._v(t._s(t._f("formatNumber")(e)))])])}))],2)])])},Ct=[],kt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.apply(this,arguments),t.height=200,t.ymax=null,t.ymin=null,t.fixed=0,t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))},t}return Object(j["a"])(a,[{key:"mounted",value:function(){this.ymax=this.data.total.reduce((function(t,e){return Math.max(t,e)})),this.ymax&&this.ymax>100&&(this.ymax=100*Math.floor(this.ymax/100)+100),this.ymin=0}},{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-40-(this.height-50)*e}}},{key:"itox",value:function(t){return 800/(this.data.total.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),n=i-a,s=850/n*(e.getTime()-a)+100;return s}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"fillPath",value:function(t,e){for(var a="",i=0;i<t.length;++i)a+=0==i?"M "+this.itox(i)+","+this.ptoy(t[i]):e(t[i],i);for(var n=t.length-1;n>=0;--n)a+=e(0,n);return a}},{key:"linePath",value:function(t,e){var a=this,i=t.reduce((function(t,i,n){return 0===n?"M ".concat(a.itox(n),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,n))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];for(var t=[],e=this.ymax-this.ymin,a=e/2.5,i=Math.round(this.ymin/a)*a,n=this.ymax,s=i;s<=n;s+=a){var r=this.ptoy(s);void 0!==r&&r>this.height-30||t.push(s)}return t}}]),a}(p["c"]);Object(E["a"])([Object(p["b"])()],kt.prototype,"data",void 0),kt=Object(E["a"])([p["a"]],kt);var St,Dt,At,Et,Lt,It,Pt,$t,Rt,Tt,Mt,Bt,Nt,zt,Ht,Ft,Yt,Ut,Gt,Vt,Wt,qt,Zt,Jt,Qt,Xt,Kt,te,ee,ae,ie=kt,ne=ie,se=(a("d314"),Object(m["a"])(ne,xt,Ct,!1,null,"0f85f7be",null)),re=se.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{href:"https://www.naics.com/naics-code-description/?code="+t.id,target:"naics_"+t.id}},["11"==t.id?a("span",[t._v("Agriculture, Forestry, Fishing and Hunting")]):t._e(),"21"==t.id?a("span",[t._v("Mining")]):t._e(),"22"==t.id?a("span",[t._v("Utilities")]):t._e(),"23"==t.id?a("span",[t._v("Construction")]):t._e(),"31-33"==t.id?a("span",[t._v("Manufacturing")]):t._e(),"42"==t.id?a("span",[t._v("Wholesale Trade")]):t._e(),"44-45"==t.id?a("span",[t._v("Retail Trade")]):t._e(),"48-49"==t.id?a("span",[t._v("Transportation and Warehousing")]):t._e(),"51"==t.id?a("span",[t._v("Information")]):t._e(),"52"==t.id?a("span",[t._v("Finance and Insurance")]):t._e(),"53"==t.id?a("span",[t._v("Real Estate Rental and Leasing")]):t._e(),"54"==t.id?a("span",[t._v("Professional, Scientific, and Technical Services")]):t._e(),"55"==t.id?a("span",[t._v("Management of Companies and Enterprises")]):t._e(),"56"==t.id?a("span",[t._v("Administrative and Support and Waste Management and Remediation Services")]):t._e(),"61"==t.id?a("span",[t._v("Educational Services")]):t._e(),"62"==t.id?a("span",[t._v("Health Care and Social Assistance")]):t._e(),"71"==t.id?a("span",[t._v("Arts, Entertainment, and Recreation")]):t._e(),"72"==t.id?a("span",[t._v("Accommodation and Food Services")]):t._e(),"81"==t.id?a("span",[t._v("Other Services (except Public Administration) ")]):t._e(),"99"==t.id?a("span",[t._v("Public Administration")]):t._e()])])},le=[],ce=(St=Object(p["b"])({default:null,type:String}),Object(p["a"])((Lt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(Z["a"])(Object(O["a"])(t),"id",Et,Object(O["a"])(t)),t}return a}(p["c"]),At=Lt,Et=Object(S["a"])(At.prototype,"id",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=At))||Dt),ue=ce,de=Object(m["a"])(ue,oe,le,!1,null,"7d4e0510",null),pe=de.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticClass:"county-selecter",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","remote-method":t.searchCounty,loading:t.loading,placeholder:t.placeholder,size:"large"},on:{change:t.change},model:{value:t.myfips,callback:function(e){t.myfips=e},expression:"myfips"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])})),1)},ye=[],me=(a("25f0"),{props:{fips:String,placeholder:{type:String,default:"Search county"}},data:function(){return{countyList:null,options:[],myfips:null,loading:!1}},watch:{fips:function(t){this.myfips=t}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/countylist.json").then((function(t){return t.json()})).then((function(e){t.countyList=e,t.myfips=t.fips}))},methods:{searchCounty:function(t){if(this.options=[],!(t.length<3)){this.loading=!0;var e=t.toLowerCase();this.options=this.countyList.filter((function(t){return!!t.label.toLowerCase().includes(e)||!!t.value.toString().includes(e)})),this.loading=!1}},change:function(){this.$emit("select",this.myfips),this.myfips=null}}}),ve=me,fe=(a("b170"),Object(m["a"])(ve,he,ye,!1,null,null,null)),be=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2018")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}},[t._v("2018 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("City or township governments")]),a("li",[t._v("State governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1)])],1)},_e=[],we=(It=Object(p["a"])({components:{SlideUpDown:X["a"]}}),It(($t=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}}]),a}(p["c"]),Pt=$t))||Pt),je=we,Oe=(a("b62f"),Object(m["a"])(je,ge,_e,!1,null,"6b667a92",null)),xe=Oe.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2019")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}},[t._v("2019 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("City or township governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("State governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1),a("br")])],1)},ke=[],Se=(Rt=Object(p["a"])({components:{SlideUpDown:X["a"]}}),Rt((Mt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}}]),a}(p["c"]),Tt=Mt))||Tt),De=Se,Ae=(a("64e5"),Object(m["a"])(De,Ce,ke,!1,null,"3ff1e4c4",null)),Ee=Ae.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plotly",{attrs:{data:t.data,layout:t.layout,"display-mode-bar":!1}})},Ie=[],Pe=a("04d1"),$e=(Bt=Object(p["a"])({components:{Plotly:Pe["Plotly"]}}),Nt=Object(p["b"])(),zt=Object(p["b"])(),Ht=Object(p["b"])(),Ft=Object(p["b"])(),Bt((Zt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(Z["a"])(Object(O["a"])(t),"value",Gt,Object(O["a"])(t)),Object(Z["a"])(Object(O["a"])(t),"histogram",Vt,Object(O["a"])(t)),Object(Z["a"])(Object(O["a"])(t),"fips",Wt,Object(O["a"])(t)),Object(Z["a"])(Object(O["a"])(t),"state",qt,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"data",null),Object(k["a"])(Object(O["a"])(t),"layout",null),t}return Object(j["a"])(a,[{key:"mounted",value:function(){var t=this,e={x:[0],y:[-1],marker:{color:["#ccc"]},name:"US",type:"bar"},a=this.histogram.hists["_us"],i=this.histogram.bucket,n=this.histogram.min;a.forEach((function(a){e.x.push(n),e.y.push(a);var s="#ccc";t.value>n&&t.value<=n+i&&(s="#666"),e.marker.color.push(s),n+=i}));var s=this.fips.substring(0,2),r={x:[0],y:[-1],marker:{color:["#66b1ff"]},name:this.state,type:"bar"},o=this.histogram.hists[s];n=this.histogram.min,o.forEach((function(e){r.x.push(n),r.y.push(e);var a="#66b1ff";t.value>n&&t.value<=n+i&&(a="#26c"),r.marker.color.push(a),n+=i})),this.data=[r,e],this.layout={height:200,margin:{l:50,r:30,t:10,b:30},barmode:"stack",xaxis:{title:"Population ("+this.histogram.bucket+" people per sq. mile for each bar)",range:[this.histogram.min-this.histogram.bucket,this.histogram.max+this.histogram.bucket]},yaxis:{type:"log",autorange:!0,title:"# of Counties"}}}}]),a}(p["c"]),Ut=Zt,Gt=Object(S["a"])(Ut.prototype,"value",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=Object(S["a"])(Ut.prototype,"histogram",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(S["a"])(Ut.prototype,"fips",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=Object(S["a"])(Ut.prototype,"state",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Ut))||Yt),Re=$e,Te=Object(m["a"])(Re,Le,Ie,!1,null,"c5cdeefe",null),Me=Te.exports;p["c"].directive("scroll",{inserted:function(t,e){var a=function a(i){e.value(i,t)&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}});var Be,Ne,ze,He,Fe,Ye,Ue,Ge,Ve,We=(Jt=Object(p["a"])({components:{Plotly:Pe["Plotly"],Event:at,Eligibility2018:xe,Eligibility2019:Ee,IndicatorInfo:lt,Footer:mt,SlideUpDown:X["a"],CompositePlot:Ot,BVIPlot:re,NaicsInfo:pe,CountySelecter:be,Histogram:Me}}),Qt=Object(p["b"])(),Xt=Object(p["d"])("fips"),Jt((ae=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(Z["a"])(Object(O["a"])(t),"fips",ee,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"popup",void 0),Object(k["a"])(Object(O["a"])(t),"statemap",void 0),Object(k["a"])(Object(O["a"])(t),"detail",null),Object(k["a"])(Object(O["a"])(t),"tab","info"),Object(k["a"])(Object(O["a"])(t),"history",[]),Object(k["a"])(Object(O["a"])(t),"bvi2Layout",{height:100,margin:{l:50,r:0,t:10,b:30,pad:10},paper_bgcolor:"#0000",plot_bgcolor:"#0000"}),Object(k["a"])(Object(O["a"])(t),"bvi2",{}),Object(k["a"])(Object(O["a"])(t),"bvi2_nonv",{}),Object(k["a"])(Object(O["a"])(t),"showNonvBVI",!1),Object(k["a"])(Object(O["a"])(t),"bviLayout",null),Object(k["a"])(Object(O["a"])(t),"stormLayout",null),Object(k["a"])(Object(O["a"])(t),"stormData",null),Object(k["a"])(Object(O["a"])(t),"showPastHistory",!1),Object(k["a"])(Object(O["a"])(t),"shownIndicators",[]),Object(k["a"])(Object(O["a"])(t),"demoGraphData",[]),Object(k["a"])(Object(O["a"])(t),"demoGraphLayout",{height:200,margin:{r:30,t:10,b:20},plot_bgcolor:"#0000",paper_bgcolor:"#0000"}),Object(k["a"])(Object(O["a"])(t),"pcmGraphData",[]),Object(k["a"])(Object(O["a"])(t),"pcmGraphLayout",{height:150,margin:{t:10,b:30},annotations:[]}),Object(k["a"])(Object(O["a"])(t),"pcpGraphData",[]),Object(k["a"])(Object(O["a"])(t),"pcpGraphLayout",{height:150,margin:{t:10,b:30}}),Object(k["a"])(Object(O["a"])(t),"urGraphLayout",{height:200,margin:{t:10,b:20},legend:{orientation:"h",side:"bottom"},yaxis:{title:"Unemployment Rate"}}),Object(k["a"])(Object(O["a"])(t),"uGraphLayout",{height:200,margin:{t:10,b:20},legend:{orientation:"h",side:"bottom"},yaxis:{title:"Employment"},yaxis2:{title:"US Employment",overlaying:"y",side:"right"}}),Object(k["a"])(Object(O["a"])(t),"showEmploymentHistory",!1),Object(k["a"])(Object(O["a"])(t),"cuttersData",{}),Object(k["a"])(Object(O["a"])(t),"contextMenuCounty",null),t}return Object(j["a"])(a,[{key:"onDetailChange",value:function(){this.load()}},{key:"toggleIndicator",value:function(t){var e=this.shownIndicators.indexOf(t);~e?this.shownIndicators.splice(e,1):this.shownIndicators.push(t)}},{key:"toggleMeasureDetail",value:function(t){p["c"].set(t,"showDetail",!t.showDetail)}},{key:"goto",value:function(t){var e=document.getElementById(t);e.scrollIntoView()}},{key:"processHistory",value:function(){var t=this;this.history=[],this.detail.eda2018.forEach((function(e){e.grantee=e.grantee_name+", "+e.grantee_city+", "+e.grantee_state,e.date=new Date(e.grant_award_date),e.type="eda2018",t.history.push(e)})),this.detail.disasters.forEach((function(e){e.type="dr",e.date=new Date(e.incidentBeginDate),t.history.push(e)})),this.history.sort((function(t,e){return e.date-t.date}))}},{key:"processBVI2",value:function(){var t=this;if(this.bviLayout={height:150,margin:{l:30,r:30,t:10,b:30},legend:{y:1.15,bgcolor:"rgba(255, 255, 255, 0)",bordercolor:"rgba(255, 255, 255, 0)",orientation:"h"},barmode:"stack",xaxis:{type:"category"}},this.detail.bvis2){var e=function(e){var a=t.detail.bvis2[e],i=!1;a.estab_v.forEach((function(t){0!=t&&(i=!0)})),a.emp_v.forEach((function(t){0!=t&&(i=!0)}));var n={estPlotly:[{x:a.years,y:a.estab.map((function(t,e){return t-a.estab_v[e]})),name:"Non Vulnerable",showlegend:!1,type:"bar",marker:{color:"#0004"}},{x:a.years,y:a.estab_v,name:"Vulnerable",showlegend:!1,type:"bar",marker:{color:"#6008"}}],empPlotly:[{x:a.years,y:a.emp.map((function(t,e){return t-a.emp_v[e]})),name:"Non Vulnerable",showlegend:!1,type:"bar",marker:{color:"#0004"}},{x:a.years,y:a.emp_v,name:"Vulnerable",showlegend:!1,type:"bar",marker:{color:"#6008"}}]};i?t.bvi2[e]=n:t.bvi2_nonv[e]=n};for(var a in this.detail.bvis2)e(a)}}},{key:"processStorms",value:function(){for(var t in this.stormLayout={margin:{l:30,r:30,t:10,b:30},legend:{y:1.15,bgcolor:"rgba(255, 255, 255, 0)",bordercolor:"rgba(255, 255, 255, 0)",orientation:"h"},barmode:"stack"},this.stormData=[],this.detail.storms){var e=[],a=[];for(var i in this.detail.storms[t])e.push(i),a.push(this.detail.storms[t][i]);this.stormData.push({x:e,y:a,name:t,type:"bar"})}}},{key:"processDemo",value:function(){var t=this;this.demoGraphData=[];var e={x:this.detail.pops.years,stackgroup:"one",line:{width:0,shape:"spline",smoothing:.8},mode:"lines"};this.detail.pops.groups.forEach((function(a){t.demoGraphData.push(Object.assign({y:a.y,name:a.name,hoverinfo:"y+text"},e))}));for(var a=function(e){var a=t.demoGraphData.reduce((function(t,a){return t+a.y[e]}),0);t.demoGraphData.forEach((function(t){t.hovertext||(t.hovertext=[]),0==a?t.hovertext.push(null):t.hovertext.push((t.y[e]/a*100).toFixed(1)+"%")}))},i=0;i<this.detail.pops.years.length;++i)a(i)}},{key:"processDistress",value:function(){this.pcmGraphData=[{x:this.detail.distress_pcm.years,y:this.detail.distress_pcm.est,error_y:{type:"data",array:this.detail.distress_pcm.moe,visible:!0},name:"EST"}],this.pcpGraphData=[{x:this.detail.distress_pcp.years,y:this.detail.distress_pcp.data,title:"MOE"}]}},{key:"mounted",value:function(){this.fips&&this.load()}},{key:"load",value:function(){var t=this;this.showPastHistory=!1,this.showNonvBVI=!1,fetch(this.$root.dataUrl+"/counties/county."+this.fips+".json").then((function(t){return t.json()})).then((function(e){t.detail=e,delete t.detail.cutter2["INST"],delete t.detail.cutter2["FLOR"],t.processHistory(),t.processBVI2(),t.processStorms(),t.processDemo(),t.processDistress()}))}},{key:"handleScroll",value:function(){var t=this,e=["disaster","bvi","cutter","storms"];e.forEach((function(e){var a=t.$refs["nav-"+e];a&&a.classList.remove("navigator-item-active")}));var a=this.$refs["scrolled-area"],i=a.scrollTop+a.clientHeight/2;e.forEach((function(e){var a=document.getElementById(e);a&&a.offsetTop<i&&a.offsetTop+a.scrollHeight>i&&t.$refs["nav-"+e].classList.add("navigator-item-active")}))}},{key:"goback",value:function(){this.$router.replace("/")}},{key:"is2018Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2017-01-01"),a=new Date("2018-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"is2019Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2018-01-01"),a=new Date("2019-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"is2019FloodEligible",value:function(t){switch(t.incidentType){case"Tornado":case"Flood":case"Severe Storm(s)":break;default:if(t.incidentTitle&&!t.incidentTitle.toLowerCase().includes("tornado")&&!t.incidentTitle.toLowerCase().includes("flood")&&!t.incidentTitle.toLowerCase().includes("severe storms"))return!1}var e=new Date("2019-01-01"),a=new Date("2020-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var n=new Date;return t.incidentEndDate&&(n=new Date(t.incidentEndDate)),i>=e&&i<a||n>=e&&n<a}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuCounty,"apred-"+this.contextMenuCounty)}},{key:"urGraphData",get:function(){return[{x:this.detail.distress_ur.date,y:this.detail.distress_ur.rate,name:"County Unempl. Rate",line:{color:"#409EFF"}},{x:this.$root.unempUS.date,y:this.$root.unempUS.rate,name:"US Unempl. Rate",line:{color:"#999"}}]}},{key:"uGraphData",get:function(){return[{x:this.detail.distress_ur.date,y:this.detail.distress_ur.employed,stackgroup:"county",name:"Employed",fillcolor:"rgba(0,0,0,0.1)",line:{width:0}},{x:this.detail.distress_ur.date,y:this.detail.distress_ur.unemp,stackgroup:"county",name:"Unemployed",fillcolor:"rgba(153, 30, 30, 0.4)",line:{width:0}}]}},{key:"unempRateDate",get:function(){var t=this.detail.distress_ur.date.length;return this.detail.distress_ur.date[t-1]}},{key:"unempRateCounty",get:function(){var t=this.detail.distress_ur.rate.length;return this.detail.distress_ur.rate[t-1]}},{key:"unempRateUS",get:function(){var t=this.$root.unempUS.rate.length;return this.$root.unempUS.rate[t-1]}},{key:"recentHistory",get:function(){return this.history.filter((function(t){return t.date>=new Date("2017-01-01")}))}},{key:"pastHistory",get:function(){return this.history.filter((function(t){return t.date<new Date("2017-01-01")}))}}]),a}(p["c"]),te=ae,ee=Object(S["a"])(te.prototype,"fips",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(S["a"])(te.prototype,"onDetailChange",[Xt],Object.getOwnPropertyDescriptor(te.prototype,"onDetailChange"),te.prototype),Kt=te))||Kt),qe=We,Ze=(a("499d"),a("1a5b"),Object(m["a"])(qe,W,q,!1,null,"4b0fac3d",null)),Je=Ze.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"map"}}),a("div",{staticClass:"side"},[a("CountySelecter",{on:{select:t.countySelected}}),t.mode?a("div",{staticClass:"legend"},[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",size:"small"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t.mode?a("div",{staticClass:"map-description"},["dr"==t.mode?a("p",[t._v(" This map shows counties with FEMA declared disasters within specified time range. Please visit "),a("a",{attrs:{href:"https://www.fema.gov/disasters/disaster-declarations"}},[t._v("FEMA Disasters")]),t._v(" page for more detail. ")]):t._e(),"eda"==t.mode?a("p",[t._v(" This map shows locations and amounts of EDA (U.S. Economic Development Administration) fundings awarded in the specified time range. EDA assists communities experiencing economic distress or harm resulting from federally-declared natural disasters. ")]):t._e(),"resilience"==t.mode?a("p",[t._v(" This map shows disaster resilience score for each counties in the specified year aggregated into 4 major categories (Social, Economic, Infrastructure, and Community Capital). Disaster resilience scores are calculated using data from U.S. Census using formulas defined by [Cuter et al. 2020]. ")]):t._e()]):t._e(),"dr"==t.mode?a("div",[t._m(0),a("p",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"1961"==t.drRange},on:{click:t.drPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.drRange,callback:function(e){t.drRange=e},expression:"drRange"}},t._l(t.drRanges,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"recent"==t.drRange},on:{click:t.drNext}})],1)],1)],1),t._m(1),a("div",{staticClass:"legend-item",staticStyle:{"border-bottom":"1px solid #0002","margin-bottom":"8px","padding-bottom":"3px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.layersAll,expression:"layersAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.layersAll)?t._i(t.layersAll,null)>-1:t.layersAll},on:{change:[function(e){var a=t.layersAll,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.layersAll=a.concat([s])):r>-1&&(t.layersAll=a.slice(0,r).concat(a.slice(r+1)))}else t.layersAll=n},t.handleAll]}}),t._v(" All ")]),t._l(t.$root.layers,(function(e,i){return a("div",{key:i,staticClass:"legend-item",class:{hidden:t.hiddenLayers.includes(i)},staticStyle:{clear:"right"},attrs:{title:e.types.join(", ")},on:{click:function(e){return e.stopPropagation(),t.toggleLayer(i)}}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:!t.hiddenLayers.includes(i)}}),a("span",{staticClass:"legend-color",style:{backgroundColor:e.color}}),t._v(" "+t._s(i.toUpperCase())+" ")])}))],2):t._e(),"eda"==t.mode?a("div",[a("p",[a("b",[t._v("Year")]),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.edaYear},on:{click:t.edaPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.edaYear,callback:function(e){t.edaYear=e},expression:"edaYear"}},t._l(t.edaYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"all"==t.edaYear},on:{click:t.edaNext}})],1)],1)],1),a("p",{staticClass:"legend-item"},[a("b",[t._v("Grant Purpose")]),a("br"),t._l(t.edaTypes,(function(e){return a("el-radio",{key:e,attrs:{label:e},model:{value:t.edaType,callback:function(e){t.edaType=e},expression:"edaType"}},[t._v(t._s(e.split(" ").slice(0,2).join(" ")))])}))],2),t._m(2)]):t._e(),"resilience"==t.mode?a("div",[a("p",[a("b",[t._v("Year")]),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.resYear},on:{click:t.resPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.resYear,callback:function(e){t.resYear=e},expression:"resYear"}},t._l(t.resYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"2018"==t.resYear},on:{click:t.resNext}})],1)],1)],1),t._m(3),t._l(t.cutterIndicators,(function(e,i){return a("div",{key:i,staticClass:"legend-item"},[a("el-radio",{style:{color:e.color},attrs:{label:i},on:{change:t.showDRLayers},model:{value:t.drLayer,callback:function(e){t.drLayer=e},expression:"drLayer"}},[t._v(t._s(e.name))])],1)})),a("br"),a("div",{staticStyle:{"background-image":"linear-gradient(to right, red, yellow, green)",width:"100%",height:"5px"}}),a("span",{staticStyle:{float:"left"}},[t._v("Low")]),a("span",{staticStyle:{float:"right"}},[t._v("High")]),a("br")],2):t._e()]):t._e()],1),a("div",{ref:"contextmenu",staticClass:"contextmenu"},[a("p",{staticClass:"menu-item",on:{click:t.openContextMenuCounty}},[t._v("Open ("+t._s(t.contextMenuCounty)+") in a new tab")])])])},Xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Date Range")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Disaster Types")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color",staticStyle:{"background-color":"#00ff00"}}),t._v(" Statewide Awards "),a("br"),a("span",{staticClass:"legend-color",staticStyle:{"background-color":"#0066ff"}}),t._v(" County Awards ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v("Resiliences")])])}],Ke=(a("2ca0"),a("b85c")),ta=a("e192"),ea=a.n(ta);a("ac6d");ea.a.accessToken="pk.eyJ1Ijoic29pY2hpaCIsImEiOiJjazVqdnBsM2cwN242M2psdjAwZXhhaTFuIn0.o3koWlzx1Tup8CJ1B_KaEA";var aa,ia,na,sa,ra,oa,la,ca,ua,da,pa=(Be=Object(p["a"])({components:{CountySelecter:be}}),Ne=Object(p["d"])("drRange"),ze=Object(p["d"])("resYear"),He=Object(p["d"])("edaYear"),Fe=Object(p["d"])("edaType"),Ye=Object(p["d"])("mode"),Be((Ve=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"modes",[{value:"dr",label:"FEMA Disaster Declarations"},{value:"eda",label:"EDA Supplemental Awards"},{value:"resilience",label:"Disaster Resilience"}]),Object(k["a"])(Object(O["a"])(t),"popup",void 0),Object(k["a"])(Object(O["a"])(t),"selected",null),Object(k["a"])(Object(O["a"])(t),"selectedFips",null),Object(k["a"])(Object(O["a"])(t),"geojson",null),Object(k["a"])(Object(O["a"])(t),"cutters",null),Object(k["a"])(Object(O["a"])(t),"hiddenLayers",["biological"]),Object(k["a"])(Object(O["a"])(t),"drLayer","SOC"),Object(k["a"])(Object(O["a"])(t),"layersAll",!0),Object(k["a"])(Object(O["a"])(t),"contextMenuCounty",null),Object(k["a"])(Object(O["a"])(t),"contextMenuFips",null),Object(k["a"])(Object(O["a"])(t),"updatedDate",null),Object(k["a"])(Object(O["a"])(t),"mode",null),Object(k["a"])(Object(O["a"])(t),"drRange",null),Object(k["a"])(Object(O["a"])(t),"drRanges",[{value:"recent",label:"2017 - Now"}]),Object(k["a"])(Object(O["a"])(t),"yearsDR",null),Object(k["a"])(Object(O["a"])(t),"resYear",null),Object(k["a"])(Object(O["a"])(t),"resYears",[]),Object(k["a"])(Object(O["a"])(t),"edaYear",null),Object(k["a"])(Object(O["a"])(t),"edaYears",[]),Object(k["a"])(Object(O["a"])(t),"edaType","Infrastructure"),Object(k["a"])(Object(O["a"])(t),"edaTypes",[]),Object(k["a"])(Object(O["a"])(t),"cutterIndicators",{SOC:{name:"Social",color:"#444"},ECON:{name:"Economic",color:"#444"},IHFR:{name:"Infrastructure",color:"#444"},COMM:{name:"Community Capital",color:"#444"}}),t}return Object(j["a"])(a,[{key:"onRangeChange",value:function(){var t=this,e=function(e){var a=t.$root.layers[e].types;if(!a)return"continue";var i=["in","fips"],n=["in","statefips"],s=[];if("recent"==t.drRange)for(var r=new Date,o=2017;o<=r.getFullYear();++o)s.push(o);else s.push(t.drRange);s.forEach((function(e){a.forEach((function(a){t.yearsDR[e]&&t.yearsDR[e][a]&&(i=i.concat(t.yearsDR[e][a].filter((function(t){return 5==t.length}))),n=n.concat(t.yearsDR[e][a].filter((function(t){return 2==t.length}))))}))})),t.map.setFilter("county_disaster_"+e,i),t.map.setFilter("state_disaster_"+e,n)};for(var a in this.$root.layers)e(a)}},{key:"onResChange",value:function(t){var e=this;if(t){var a=parseInt(this.resYear),i=function(t){var i={};for(var n in e.cutters){var s=e.cutters[n],r=n.replace(".","");s[t]&&(i[r]=s[t][a-2012])}e.geojson.features.forEach((function(t){var e=t.properties["fips"];t.properties["resilience"]=i[e]||0})),e.map.getSource("dr"+t).setData(e.geojson)};for(var n in this.cutterIndicators)i(n)}}},{key:"onEdaYearChange",value:function(t){t&&this.updateEda()}},{key:"onEdaTypeChange",value:function(t){t&&this.updateEda()}},{key:"updateEda",value:function(){var t=["all"];if(t.push(["==",["get","purpose"],this.edaType]),"all"!=this.edaYear){var e=new Date(this.edaYear+"-01-01").getTime(),a=new Date(this.edaYear+"-12-31").getTime();t.push([">=",["get","date"],e]),t.push(["<=",["get","date"],a])}this.map.setFilter("eda",t),this.map.setFilter("eda-labels",t)}},{key:"created",value:function(){var t=window.localStorage.getItem("hiddenLayers");t&&(this.hiddenLayers=JSON.parse(t),this.layersAll=0==this.hiddenLayers.length);var e=window.localStorage.getItem("drLayer");e&&(this.drLayer=e);for(var a=2021;a>1960;--a)this.drRanges.push({value:a.toString(),label:a.toString()});for(var i=2018;i>=2012;--i)this.resYears.push({value:i.toString(),label:i.toString()});this.edaYears.push({value:"all",label:"All"});for(var n=2021;n>=2012;--n)this.edaYears.push({value:n.toString(),label:n.toString()})}},{key:"onModeChange",value:function(t){if(t&&0!=t)switch(this.hideDDLayers(),this.hideDRLayers(),this.hideEDA2018Layers(),this.mode){case"dr":this.showDDLayers();break;case"resilience":this.showDRLayers();break;case"eda":this.showEDA2018Layers();break}}},{key:"hideDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility","none"),this.map.setLayoutProperty("state_disaster_"+t,"visibility","none")}},{key:"showDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible")}},{key:"hideDRLayers",value:function(){if(this.cutters)for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility","none")}},{key:"showDRLayers",value:function(){for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility",this.drLayer==t?"visible":"none")}},{key:"hideEDA2018Layers",value:function(){this.edaYear&&(this.map.setLayoutProperty("eda-labels","visibility","none"),this.map.setLayoutProperty("eda","visibility","none"))}},{key:"showEDA2018Layers",value:function(){this.map.setLayoutProperty("eda-labels","visibility","visible"),this.map.setLayoutProperty("eda","visibility","visible")}},{key:"loadCutters",value:function(t,e){this.map.addSource("dr"+e,{type:"geojson",data:this.geojson}),this.map.addLayer({id:"dr"+e,type:"fill",source:"dr"+e,paint:{"fill-opacity":.75,"fill-color":["interpolate",["linear"],["get","resilience"],0,"red",.5,"yellow",1,"green"]},layout:{visibility:"none"}},"map"),this.resYear="2018"}},{key:"mounted",value:function(){var t=this;this.map=new ea.a.Map({container:"map",style:"mapbox://styles/soichih/ckig6p3ph51e719pcdusqyd1o",center:[0,0],minZoom:4,pitch:30,zoom:1}),this.$root.map=this.map,this.map.addControl(new ea.a.NavigationControl),this.popup=new ea.a.Popup({closeButton:!1,offset:[0,-20]}),this.map.on("load",(function(){fetch(t.$root.dataUrl+"/counties_geo.albers.geojson").then((function(e){return t.updatedDate=e.headers.get("last-modified"),e.json()})).then((function(e){t.geojson=e,t.map.addSource("counties",{type:"geojson",data:e}),t.map.addLayer({id:"map",type:"fill",source:"counties",paint:{"fill-color":"rgba(255,255,255,0.1)"}});var a=[];for(var i in t.$root.layers){var n=t.$root.layers[i];n.id=i,a.push(n)}a.sort((function(t,e){return t.zIndex-e.zIndex})),a.forEach((function(e){t.map.addLayer({id:"county_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.75*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map"),t.map.addLayer({id:"state_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.2*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map")})),fetch(t.$root.dataUrl+"/years.json").then((function(t){return t.json()})).then((function(e){t.yearsDR=e,t.drRange="recent",t.mode="dr"})),fetch(t.$root.dataUrl+"/cutter_long.json").then((function(t){return t.json()})).then((function(e){for(var a in t.cutters=e,t.cutterIndicators)t.loadCutters(2018,a)})),fetch(t.$root.dataUrl+"/eda2018.albers.geojson").then((function(t){return t.json()})).then((function(e){t.map.addSource("eda2018",{type:"geojson",data:e}),t.map.addLayer({id:"eda-labels",type:"symbol",source:"eda2018",layout:{visibility:"none","text-field":["get","awardStr"],"text-size":["interpolate",["linear"],["zoom"],2,["interpolate",["linear"],["get","award"],500,3,5e3,6],9,["interpolate",["linear"],["get","award"],500,10,5e3,30]]},paint:{"text-color":"rgba(0,0,0,1)"}}),t.map.addLayer({id:"eda",type:"fill-extrusion",source:"eda2018",paint:{"fill-extrusion-color":["get","color"],"fill-extrusion-height":["get","height"]},layout:{visibility:"none"}});var a,i=Object(Ke["a"])(e.features);try{for(i.s();!(a=i.n()).done;){var n=a.value;t.edaTypes.includes(n.properties.purpose)||t.edaTypes.push(n.properties.purpose)}}catch(s){i.e(s)}finally{i.f()}t.edaYear="all"}))})),t.map.on("click",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});a.length>0&&t.countySelected(a[0].properties.county_fips)})),t.map.on("contextmenu",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});if(a.length>0){e.preventDefault();var i=document.getElementById("map");t.$refs["contextmenu"].style.display="block",t.$refs["contextmenu"].style.left=e.point.x-20+"px",t.$refs["contextmenu"].style.top=i.offsetTop+e.point.y-10+"px",t.contextMenuCounty=a[0].properties.county_name+", "+a[0].properties.state_name,t.contextMenuFips=a[0].properties.county_fips}})),t.$refs["contextmenu"].addEventListener("mouseleave",(function(){t.$refs["contextmenu"].style.display="none"})),t.map.on("mousemove","counties",(function(e){t.map.getCanvas().style.cursor="pointer";var a=e.features[0],i=a.properties.county_name+", "+a.properties.state_name;for(var n in a.properties)n.startsWith("is")&&(i+=" | "+n.substring(2));t.popup.setLngLat(e.lngLat).setText(i).addTo(t.map)})),t.map.on("mouseleave","counties",(function(){t.popup.remove()})),t.map.on("idle",(function(){var e=localStorage.getItem("tutorial-played");if(!e&&!t.selected&&window.innerWidth>800){localStorage.setItem("tutorial-played",new Date);var a=document.getElementsByClassName("tutorial")[0];a.style.display="block",t.$nextTick((function(){t.showTutorial("tab")}))}}))}))}},{key:"showTutorial",value:function(t){var e=document.getElementsByClassName("tutorial")[0],a=document.getElementsByClassName("tutorial-focus")[0];a&&a.classList.remove("tutorial-focus");var i=document.getElementsByClassName("tutorial-text-show")[0];switch(i&&i.classList.remove("tutorial-text-show"),t){case"tab":a=document.getElementsByClassName("tabs")[0],i=document.getElementsByClassName("tutorial-text-tab")[0],i.style["top"]=a.offsetTop+110+"px",i.style["left"]=a.offsetLeft+20+"px";break;case"legend":a=document.getElementsByClassName("legend")[0],i=document.getElementsByClassName("tutorial-text-legend")[0],i.style["top"]=a.offsetTop+60+"px",i.style["left"]=a.offsetLeft-420+"px";break;case"county":a=document.getElementsByClassName("county-selecter")[0],i=document.getElementsByClassName("tutorial-text-county")[0],i.style["top"]=a.offsetTop+50+"px",i.style["left"]=a.offsetLeft-420+"px";break;default:return e.classList.remove("tutorial-active"),e.style.opacity="0",void setTimeout((function(){e.style.display="none"}),1e3)}e.classList.add("tutorial-active"),a.classList.add("tutorial-focus"),i.classList.add("tutorial-text-show")}},{key:"countySelected",value:function(t){this.$emit("select",t)}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuFips,"apred-"+this.contextMenuFips)}},{key:"toggleLayer",value:function(t){var e=this.hiddenLayers.indexOf(t);~e?this.hiddenLayers.splice(e,1):this.hiddenLayers.push(t),this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.layersAll=0==this.hiddenLayers.length,window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers))}},{key:"handleAll",value:function(){if(this.layersAll)this.hiddenLayers=[];else for(var t in this.hiddenLayers=[],this.$root.layers)this.hiddenLayers.push(t);for(var e in window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers)),this.$root.layers)this.map.setLayoutProperty("county_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible")}},{key:"resPrevious",value:function(){this.resYear=(parseInt(this.resYear)-1).toString()}},{key:"resNext",value:function(){this.resYear=(parseInt(this.resYear)+1).toString()}},{key:"edaPrevious",value:function(){"all"!=this.edaYear?this.edaYear=(parseInt(this.edaYear)-1).toString():this.edaYear="2021"}},{key:"edaNext",value:function(){"2021"==this.edaYear?this.edaYear="all":this.edaYear=(parseInt(this.edaYear)+1).toString()}},{key:"findIndexDrRange",value:function(t){var e=null;return this.drRanges.forEach((function(a,i){a.value==t&&(e=i)})),e}},{key:"drPrevious",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t+1].value}},{key:"drNext",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t-1].value}}]),a}(p["c"]),Ge=Ve,Object(S["a"])(Ge.prototype,"onRangeChange",[Ne],Object.getOwnPropertyDescriptor(Ge.prototype,"onRangeChange"),Ge.prototype),Object(S["a"])(Ge.prototype,"onResChange",[ze],Object.getOwnPropertyDescriptor(Ge.prototype,"onResChange"),Ge.prototype),Object(S["a"])(Ge.prototype,"onEdaYearChange",[He],Object.getOwnPropertyDescriptor(Ge.prototype,"onEdaYearChange"),Ge.prototype),Object(S["a"])(Ge.prototype,"onEdaTypeChange",[Fe],Object.getOwnPropertyDescriptor(Ge.prototype,"onEdaTypeChange"),Ge.prototype),Object(S["a"])(Ge.prototype,"onModeChange",[Ye],Object.getOwnPropertyDescriptor(Ge.prototype,"onModeChange"),Ge.prototype),Ue=Ge))||Ue),ha=pa,ya=(a("5191"),Object(m["a"])(ha,Qe,Xe,!1,null,"5cc05b16",null)),ma=ya.exports,va=(aa=Object(p["a"])({components:{TopMenu:V,CountyDetail:Je,CountyMap:ma}}),ia=Object(p["d"])("$route"),aa((ra=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"fips",null),Object(k["a"])(Object(O["a"])(t),"mountmap",!1),Object(k["a"])(Object(O["a"])(t),"showmap",!1),t}return Object(j["a"])(a,[{key:"onRouteChange",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"changeFips",value:function(t){this.$router.push("/county/"+t)}},{key:"mounted",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"togglemap",value:function(){var t=this;this.fips||(this.mountmap=!0,this.showmap=!0,this.$nextTick((function(){t.$root.map&&t.$root.map.resize()}))),this.fips&&(this.showmap=!1)}}]),a}(p["c"]),sa=ra,Object(S["a"])(sa.prototype,"onRouteChange",[ia],Object.getOwnPropertyDescriptor(sa.prototype,"onRouteChange"),sa.prototype),na=sa))||na),fa=va,ba=Object(m["a"])(fa,g,_,!1,null,null,null),ga=ba.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopMenu"),a("div",{staticClass:"page"},[a("div",{staticClass:"header"},[a("el-row",{attrs:{gutter:10}},[t._l(t.counties,(function(e){return a("el-col",{key:e.fips,attrs:{span:8}},[e.detail?a("div",[a("br"),a("h4",[t._v(t._s(e.detail.county)+", "+t._s(e.detail.state)+" "),a("el-button",{attrs:{type:"info-circle",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){return t.removeCounty(e)}}})],1)]):a("div",{staticStyle:{padding:"10px"}},[a("small",[t._v("Loading...")])])])})),t.counties.length<3?a("el-col",{attrs:{span:8}},[a("CountySelecter",{attrs:{placeholder:"Add County to compare"},on:{select:function(e){return t.addCounty(e)}}})],1):t._e()],2),a("br")],1),t._v(" Test.. "),a("RegionSelecter",{attrs:{placeholder:"Add Region to compare to"},on:{select:function(e){return t.selectRegion(e)}}}),a("br"),a("el-row",{attrs:{gutter:10}},[t._l(t.counties,(function(e){return a("el-col",{key:e.fips,attrs:{span:8}},[e.detail?a("div",[a("h4",[t._v("Population")]),a("p",[a("span",{staticClass:"primary"},[t._v(t._s(t._f("formatNumber")(e.detail.population)))])]),a("h4",[t._v("Population Density")]),a("p",[a("span",{staticClass:"primary"},[t._v(t._s(t._f("formatNumber")(e.detail.popdensity)))]),t._v(" people per sq. mile. ")]),a("h4",[t._v("Area")]),a("p",[a("span",{staticClass:"primary"},[t._v(t._s(e.detail.area))]),t._v(" sq. miles ")]),a("h4",[t._v("GDP")]),a("p",[a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(e.detail.gdp/1e3)))]),t._v(" M ")]),a("h4",[t._v("Per Capita Income")]),a("p",[a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(e.detail.percapitaincome)))])]),a("h4",[t._v("Median Household Income")]),a("p",[a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(e.detail.medianincome)))])])]):a("div",{staticStyle:{padding:"10px"}},[a("small",[t._v("Loading...")])])])})),t.counties.length<2?a("el-col",{attrs:{span:8}}):t._e()],2)],1)],1)},wa=[],ja=(a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticClass:"region-selecter",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","remote-method":t.searchRegion,loading:t.loading,placeholder:t.placeholder,size:"large"},on:{change:t.change},model:{value:t.myid,callback:function(e){t.myid=e},expression:"myid"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),a("small",{staticStyle:{"margin-left":"10px"}},[t._v("("+t._s(e.fips.length)+" counties)")])])})),1)}),Oa=[],xa={props:{id:String,placeholder:{type:String,default:"Search EDD Region"}},data:function(){return{regionList:null,options:[],myid:null,loading:!1}},watch:{id:function(t){this.myid=t}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/regionlist.json").then((function(t){return t.json()})).then((function(e){t.regionList=e,t.myid=t.id}))},methods:{searchRegion:function(t){if(this.options=[],!(t.length<3)){this.loading=!0;var e=t.toLowerCase();for(var a in this.options=[],this.regionList){var i=this.regionList[a];i.name.toLowerCase().includes(e)&&this.options.push({value:a,label:i.name,fips:i.fips})}this.loading=!1}},change:function(){this.myid?this.$emit("select",{id:this.myid,fips:this.regionList[this.myid].fips}):this.$emit("select",{id:null,fips:[]})}}},Ca=xa,ka=(a("2d37"),Object(m["a"])(Ca,ja,Oa,!1,null,null,null)),Sa=ka.exports,Da=(oa=Object(p["a"])({components:{TopMenu:V,CountySelecter:be,RegionSelecter:Sa}}),la=Object(p["d"])("$route"),oa((da=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"counties",[]),t}return Object(j["a"])(a,[{key:"onRouteChange",value:function(t,e){}},{key:"init",value:function(t){var e=this;t.forEach((function(t){e.addCounty(t)}))}},{key:"removeCounty",value:function(t){this.counties.splice(this.counties.indexOf(t),1)}},{key:"addCounty",value:function(t){var e={fips:t,detail:null};fetch(this.$root.dataUrl+"/counties/county."+t+".json").then((function(t){return t.json()})).then((function(t){e.detail=t})),this.counties.push(e)}},{key:"mounted",value:function(){var t=this.$route.params.fips.split(",");this.init(t)}},{key:"selectRegion",value:function(t){t.fips,t.id}}]),a}(p["c"]),ua=da,Object(S["a"])(ua.prototype,"onRouteChange",[la],Object.getOwnPropertyDescriptor(ua.prototype,"onRouteChange"),ua.prototype),ca=ua))||ca),Aa=Da,Ea=(a("ea8d"),Object(m["a"])(Aa,_a,wa,!1,null,"20c7185f",null)),La=Ea.exports;i["default"].use(b["a"]);var Ia=[{path:"/",component:ga},{path:"/county/:fips",component:ga},{path:"/compare/:field/:fips",component:La}],Pa=new b["a"]({base:"/projects/apred/",routes:Ia}),$a=Pa,Ra=a("bc3a"),Ta=a.n(Ra),Ma=a("a7fe"),Ba=a.n(Ma),Na=a("0284"),za=a.n(Na),Ha=a("1232");i["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},i["default"].use(o.a,{locale:s.a}),i["default"].config.productionTip=!1,i["default"].use(Ba.a,Ta.a),i["default"].use(za.a,{id:"UA-161425227-2"}),new i["default"]({data:function(){var t="https://api.ctil.iu.edu/pub";return"localhost"==location.hostname&&(t="https://gpu1-pestillilab.psych.indiana.edu/apred"),{dataUrl:t,drMeasures:{},medianIncomeHistogram:{},perCapitaIncomeHistogram:{},gdpHistogram:{},populationHistogram:{},popdensityHistogram:{},unempUS:{},commonReady:!1,user:null,map:null,layers:{hurricane:{color:"#0af",types:["Hurricane"],zIndex:5},tornado:{color:"#f6f",types:["Tornado"],zIndex:6},"severe storm":{color:"#fa0",types:["Severe Storm(s)"],zIndex:7},flood:{color:"#06f",types:["Flood"],zIndex:8},fire:{color:"#f00",types:["Fire"],zIndex:9},biological:{color:"#396",opacity:.5,types:["Biological"],zIndex:0},other:{color:"#999",types:["EarthQuake","Coastal Storm","Snow","Mud/Landslide","Volcano","Dam/Levee Break","Severe Ice Storm"],zIndex:1}}}},mounted:function(){var t=this,e=new URLSearchParams(window.location.search);e.has("jwt")&&(localStorage.setItem("jwt",e.get("jwt")),window.location.search="");var a=localStorage.getItem("jwt");a&&(this.user=Object(Ha["a"])(a),this.user.exp<(new Date).getTime()/1e3?(localStorage.removeItem("jwt"),this.user=null):Ta.a.defaults.headers.common["Authorization"]="Bearer "+a),fetch(this.dataUrl+"/raw/dr_measure.json").then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.drMeasures[e.measure]={name:e["measure_name"],desc:e["measure_desc"],calcDesc:e["measure_calculation_desc"]}}))})),fetch(this.dataUrl+"/common.json").then((function(t){return t.json()})).then((function(e){t.medianIncomeHistogram=e.histograms.medianIncome,t.perCapitaIncomeHistogram=e.histograms.perCapitaIncome,t.gdpHistogram=e.histograms.gdp,t.populationHistogram=e.histograms.population,t.popdensityHistogram=e.histograms.popdensity,t.unempUS=e.unemp_us,t.commonReady=!0,t.$forceUpdate()}))},methods:{signout:function(){localStorage.removeItem("jwt"),this.user=null}},router:$a,render:function(t){return t(f)}}).$mount("#app")},d314:function(t,e,a){"use strict";var i=a("e036"),n=a.n(i);n.a},d89b:function(t,e,a){},d9e6:function(t,e,a){},e036:function(t,e,a){},ea8d:function(t,e,a){"use strict";var i=a("8fb2"),n=a.n(i);n.a}});
//# sourceMappingURL=app.c7bdaea4.js.map